import{a as k}from"./chunk-BHYHBSD6.js";import{$ as m,C as s,F as l,I as o,J as n,N as x,O as f,P as _,T as r,U as C,V as v,aa as O,ca as M,ja as P,ka as b,ma as h,na as T,o as d,p,sa as S,u as c,ua as y,x as u,y as g}from"./chunk-AM3MBALI.js";var I=e=>["/practice",e],w=e=>["/edit",e];function A(e,i){if(e&1){let t=x();o(0,"li")(1,"div",5)(2,"h2"),r(3),n(),o(4,"p"),r(5),O(6,"slice"),n()(),o(7,"div",6)(8,"button",7),r(9,"\u7DE8\u8F2F"),n(),o(10,"button",8),f("click",function(){let L=d(t).$implicit,F=_();return p(F.deleteText(L.id))}),r(11,"\u522A\u9664"),n()()()}if(e&2){let t=i.$implicit;c(),l("routerLink",m(8,I,t.id)),c(2),C(t.title),c(2),v("",M(6,4,t.content,0,100),"..."),c(3),l("routerLink",m(10,w,t.id))}}function B(e,i){e&1&&(o(0,"p"),r(1,"\u5C1A\u672A\u65B0\u589E\u4EFB\u4F55\u6587\u672C\u3002"),n())}var E=class e{constructor(i){this.storageService=i}texts=[];ngOnInit(){this.loadTexts()}loadTexts(){this.texts=this.storageService.getAllTexts().sort((i,t)=>t.updatedAt-i.updatedAt)}deleteText(i){confirm("\u78BA\u5B9A\u8981\u522A\u9664\u9019\u7BC7\u6587\u672C\u55CE\uFF1F")&&(this.storageService.deleteText(i),this.loadTexts())}static \u0275fac=function(t){return new(t||e)(u(k))};static \u0275cmp=g({type:e,selectors:[["app-text-list"]],decls:8,vars:2,consts:[[1,"container"],["routerLink","/new"],[1,"text-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-info",3,"routerLink"],[1,"actions"],[3,"routerLink"],[3,"click"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"h1"),r(2,"\u6211\u7684\u807D\u529B\u6587\u672C"),n(),o(3,"button",1),r(4,"\u65B0\u589E\u6587\u672C"),n(),o(5,"ul",2),s(6,A,12,12,"li",3),n(),s(7,B,2,0,"p",4),n()),t&2&&(c(6),l("ngForOf",a.texts),c(),l("ngIf",a.texts.length===0))},dependencies:[T,P,b,h,y,S],styles:[".text-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.text-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid var(--border-color);transition:background-color .2s ease}.text-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.text-info[_ngcontent-%COMP%]{flex-grow:1;cursor:pointer}.text-info[_ngcontent-%COMP%]:hover{opacity:.7}.text-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;margin:0 0 .25rem}.text-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.actions[_ngcontent-%COMP%]{display:flex;flex-shrink:0;margin-left:1rem}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--secondary-color);padding:.5rem 1rem}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--secondary-hover-color)}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:var(--danger-color)}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background-color:var(--danger-hover-color)}@media (max-width: 768px){.text-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.actions[_ngcontent-%COMP%]{width:100%;margin-top:1rem;margin-left:0;justify-content:flex-end}}"]})};export{E as TextListComponent};
