<!DOCTYPE html>
<html lang="TW">
  
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 您的網路共筆-UrWeb -->
  <title>
    
      Angular 大師之路：淺出深入的學習指南 |  
    
    您的網路共筆
  </title>
  
  
    <meta name="description"
          content="文章作者: johch3n611u 創作日期: 2023/06/28 文章類型: Dev Tech，查看本文章獲取更多訊息。">
  
          <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
            integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
            crossorigin="anonymous" />
          <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400;500;700;900&display=swap"
            rel="stylesheet">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/css/bootstrap.min.css" />
          <link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css" />
          
<link rel="stylesheet" href="/assets/hexo/css/prism.css">

            
<link rel="stylesheet" href="/assets/hexo/css/main.css">

              <!-- Google Tag Manager -->
              <script>(function (w, d, s, l, i) {
                  w[l] = w[l] || []; w[l].push({
                    'gtm.start':
                      new Date().getTime(), event: 'gtm.js'
                  }); var f = d.getElementsByTagName(s)[0],
                    j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                      'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
                })(window, document, 'script', 'dataLayer', 'GTM-T4FDJRJ');</script>
              <!-- End Google Tag Manager -->
              <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"
                integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
                crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body onload="responsiveIframe()">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T4FDJRJ" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <header>
    <div class="mobileBox">
      <div class="brandBox">
        <a href="/" class="d-flex align-items-center">
          <h1 class="m-0">
            您的網路共筆
          </h1>
        </a>
      </div>
      <div class="desktop-show"> <form action="//google.com/search" method="get" accept-charset="UTF-8" class="input-group"><input type="search" name="q" class="input-group-input" placeholder="Search"><button type="submit" class="input-group-submit">Search</button><input type="hidden" name="sitesearch" value="https://urwebapp.github.io"></form>
      </div>
      <a href="#" id="barBtn">
        <span>hamburger-icon</span>
        <!-- <i class="hamburger fa-solid fa-bars"></i> -->
        <!-- <span class="material-symbols-outlined">menu</span> -->
        <img class="hamburger" src="./assets/hexo/img/download.png" data-original="/assets/hexo/img/burger-menu-svgrepo-com.svg" alt="hamburger-icon">
      </a>
    </div>
  </header>
  <!-- <h1>
      <a href="/">Home</a> |
      <a href="/archives">Archive</a> |
      tags
      <a href="/about/">About</a>
    </h1> -->
  <div class="outterWrap container-fluid">
    <aside class="leftAside">
      <nav>
        <ul>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="d-md-none input-group"><input type="search" name="q" class="d-md-none input-group-input" placeholder="Search"><button type="submit" class="d-md-none input-group-submit">Search</button><input type="hidden" name="sitesearch" value="https://urwebapp.github.io"></form>
            <!-- <li>
            <h4>
              <a href="/about/">關於我們</a>
            </h4>
          </li> -->
            <li style="margin-top: 50px;">
              <h4>
                <a href="https://forms.gle/Mzn7eLEtW3oiscMT6" target="_blank">Contact / Subscribe</a>
              </h4>
            </li>
            <li>
              <h4>
                <a href="#" id="authorsBtn">Authors
                  <!-- <i class="fa-solid fa-square-caret-up"></i> -->
                  <div class="uponIcon"></div>
                </a>
              </h4>
              <div id="authors">
                <ul class="author-list">
                  <li>
                    <a href="/author/kai98k">kai98k</a>
                  </li>
                  <li>
                    <a href="/author/johch3n611u">johch3n611u</a>
                  </li>
                </ul>
              </div>
            </li>
            <li>
              <h4>
                <a href="#" id="categoriesBtn">Categories 
                  <!-- <i class="fa-solid fa-square-caret-up"></i> -->
                  <div class="uponIcon"></div>
                </a>
              </h4>
              <div id="categories">
                <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AI-Tools/">AI Tools</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Dev/">Dev</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Dev-Tech/">Dev Tech</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Language/">Language</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/f2e/">f2e</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%89%E8%81%B7%E6%88%90%E9%95%B7/">轉職成長</a><span class="category-list-count">2</span></li></ul>
              </div>
            </li>
            <li>
              <h4>
                <a href="#" id="tagsBtn">Tags 
                  <div class="uponIcon"></div>
                  <!-- <i class="fa-solid fa-square-caret-up"></i> -->
                </a>
              </h4>
              <div id="tags"><a href="/tags/Net/" style="font-size: 20px;">.Net</a> <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/Angular/" style="font-size: 17.5px;">Angular</a> <a href="/tags/Architecture/" style="font-size: 10px;">Architecture</a> <a href="/tags/Authorization/" style="font-size: 10px;">Authorization</a> <a href="/tags/C/" style="font-size: 12.5px;">C#</a> <a href="/tags/Computer-Science/" style="font-size: 10px;">Computer Science</a> <a href="/tags/DDD/" style="font-size: 10px;">DDD</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/English/" style="font-size: 15px;">English</a> <a href="/tags/Exception/" style="font-size: 10px;">Exception</a> <a href="/tags/Filter/" style="font-size: 10px;">Filter</a> <a href="/tags/GTM/" style="font-size: 10px;">GTM</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/IIS/" style="font-size: 10px;">IIS</a> <a href="/tags/Internet/" style="font-size: 17.5px;">Internet</a> <a href="/tags/JavaScript/" style="font-size: 12.5px;">JavaScript</a> <a href="/tags/Javascript/" style="font-size: 10px;">Javascript</a> <a href="/tags/Log/" style="font-size: 12.5px;">Log</a> <a href="/tags/Note/" style="font-size: 15px;">Note</a> <a href="/tags/OOD-OOP/" style="font-size: 10px;">OOD/OOP</a> <a href="/tags/PDF/" style="font-size: 10px;">PDF</a> <a href="/tags/RabbitMQ/" style="font-size: 10px;">RabbitMQ</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/Request/" style="font-size: 10px;">Request</a> <a href="/tags/Response/" style="font-size: 10px;">Response</a> <a href="/tags/Tools/" style="font-size: 10px;">Tools</a> <a href="/tags/Visual-Studio/" style="font-size: 10px;">Visual Studio</a> <a href="/tags/computer-science/" style="font-size: 10px;">computer-science</a> <a href="/tags/f2e/" style="font-size: 10px;">f2e</a></div>
            </li>
            <li style="margin-top: 50px;">
              <h4>
                <a href="https://urwebapp.github.io/assets/angular/ec/index.html" target="_blank">EC Demo</a>
                <a href="https://urwebapp.github.io/assets/angular/mod/EnglishLearningHelper/index.html" target="_blank">EnglishLearningHelper</a>
              </h4>
            </li>
        </ul>
      </nav>
    </aside>
    <main class="container postWrap">
  <article class="postArticle">
    <div class="postArticleHeader">
      <h1 class="pt-1">Angular 大師之路：淺出深入的學習指南</h1>
      <div class="infoBox">
        <i class="fa fa-eye" aria-hidden="true"></i>
        <p class="waline-pageview-count" data-path="/Dev-Tech/PathAgMasterGuideLearningBasicsAdvanced/" />
        </p>
        <span>|</span>
        <p>2023/06/28</p>
        <span>|</span>
        <p>
          
            <a href="/categories/Dev-Tech/ ">Dev Tech </a>
            
        </p>
        <span>|</span>
        <ul class="tagBox">
          
            <li>
              <a href="/tags/Angular/">
                <!-- <i class="fa-solid fa-tag"></i>  -->
                <div class="tagIcon"></div>
                Angular
              </a>
            </li>
            
        </ul>
      </div>
    </div>
    <div class="postArticleContent">
      <div class="authorsWordsBox">
        <p class="title">johch3n611u</p>
        <p class="content">除了一些 NG 原生語法與應用，感覺複雜點還是在設計模式 design pattern、函數式編程 Fn Programing、反應式編程 Rxjs，這些應該在各大框架都是共通的可以多投資點心力在這</p>
      </div>
      <p><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/users/20020617/ironman/1630">Angular 大師之路 系列</a></p>
<h2 id="NG-大師之路-筆記大綱"><a href="#NG-大師之路-筆記大綱" class="headerlink" title="NG 大師之路 筆記大綱"></a>NG 大師之路 筆記大綱</h2><h3 id="day1-大綱-幾乎什麼都講"><a href="#day1-大綱-幾乎什麼都講" class="headerlink" title="day1 大綱 幾乎什麼都講"></a>day1 大綱 幾乎什麼都講</h3><h3 id="day2-JSON-Schema-Monorepo"><a href="#day2-JSON-Schema-Monorepo" class="headerlink" title="day2 JSON Schema, Monorepo"></a>day2 JSON Schema, Monorepo</h3><h3 id="day3-Lifecycle：main-ts-可以啟動多個根模組-app-module-ts-可以啟動多個根元件-app-component-ts-根元件"><a href="#day3-Lifecycle：main-ts-可以啟動多個根模組-app-module-ts-可以啟動多個根元件-app-component-ts-根元件" class="headerlink" title="day3 Lifecycle：main.ts ( 可以啟動多個根模組 ) &#x3D;&gt; app.module.ts ( 可以啟動多個根元件 ) &#x3D;&gt; app.component.ts 根元件"></a>day3 Lifecycle：main.ts ( 可以啟動多個根模組 ) &#x3D;&gt; app.module.ts ( 可以啟動多個根元件 ) &#x3D;&gt; app.component.ts 根元件</h3><h3 id="day4-元件-Lifecycle-除了基本的外差異在-OnChange-與-ng-Content-的生命週期，會影響到-ContentChild-ContentChildren-的取得與否"><a href="#day4-元件-Lifecycle-除了基本的外差異在-OnChange-與-ng-Content-的生命週期，會影響到-ContentChild-ContentChildren-的取得與否" class="headerlink" title="day4 元件 Lifecycle 除了基本的外差異在 OnChange 與 ng Content 的生命週期，會影響到 @ContentChild, @ContentChildren 的取得與否"></a>day4 元件 Lifecycle 除了基本的外差異在 OnChange 與 ng Content 的生命週期，會影響到 @ContentChild, @ContentChildren 的取得與否</h3><h3 id="day5-NgModule-參數應用、動-靜態載入元件"><a href="#day5-NgModule-參數應用、動-靜態載入元件" class="headerlink" title="day5 NgModule 參數應用、動&#x2F;靜態載入元件"></a>day5 NgModule 參數應用、動&#x2F;靜態載入元件</h3><h3 id="day6-Feature、Shared、Core-Module-、-Ng-6-Service-自動-providedIn-root-Module"><a href="#day6-Feature、Shared、Core-Module-、-Ng-6-Service-自動-providedIn-root-Module" class="headerlink" title="day6 Feature、Shared、Core Module 、 Ng 6 Service 自動 providedIn root Module"></a>day6 Feature、Shared、Core Module 、 Ng 6 Service 自動 providedIn root Module</h3><h3 id="day7-Two-Way-Binding"><a href="#day7-Two-Way-Binding" class="headerlink" title="day7 Two Way Binding"></a>day7 Two Way Binding</h3><h3 id="day8-自訂表單控制項-Token：NG-VALUE-ACCESSOR-ControlValueAccessor"><a href="#day8-自訂表單控制項-Token：NG-VALUE-ACCESSOR-ControlValueAccessor" class="headerlink" title="day8 自訂表單控制項 &#x2F; Token：NG_VALUE_ACCESSOR &#x2F; ControlValueAccessor"></a>day8 自訂表單控制項 &#x2F; Token：NG_VALUE_ACCESSOR &#x2F; ControlValueAccessor</h3><h3 id="day9-Directive-指令-exportAs"><a href="#day9-Directive-指令-exportAs" class="headerlink" title="day9 Directive 指令 exportAs"></a>day9 Directive 指令 exportAs</h3><h3 id="day10-any-樣板語法"><a href="#day10-any-樣板語法" class="headerlink" title="day10 $any 樣板語法"></a>day10 $any 樣板語法</h3><h3 id="day11-ngIf-else-搭配樣板參考變數"><a href="#day11-ngIf-else-搭配樣板參考變數" class="headerlink" title="day11 *ngIf else 搭配樣板參考變數"></a>day11 *ngIf else 搭配樣板參考變數</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-container</span> <span class="token attr-name">*ngTemplateOutlet</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myTemplate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-container</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#myTemplate</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Welcome<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Here is some content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ng-template 是一個標籤，可以在它裡面定義一段 HTML 代碼，但是這段代碼不會直接被渲染出來，而是被當做模板使用，可以在其他地方進行引用和使用。</p>
<p>ng-container 則是一個虛擬元素，它不會產生任何實際的 HTML 元素，只是用來包裹其他元素。</p>
<h3 id="day12-ngTemplateOutlet"><a href="#day12-ngTemplateOutlet" class="headerlink" title="day12 *ngTemplateOutlet"></a>day12 *ngTemplateOutlet</h3><p>原文做法利用 Directive 取得 @ViewChildren 但似乎可以同個 #ID 取得 @ViewChildren NG 會自行判斷一個還是多個 QueryList</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">appCarouselPage</span> <span class="token attr-name">let-input</span> <span class="token attr-name">let-bg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>background<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">[style.background-color]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Page 1: &#123;&#123; input | json &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">appCarouselPage</span> <span class="token attr-name">let-input</span> <span class="token attr-name">let-bg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>background<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">[style.background-color]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Page 2: &#123;&#123; input | json &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">appCarouselPage</span> <span class="token attr-name">let-input</span> <span class="token attr-name">let-bg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>background<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">[style.background-color]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Page 3: &#123;&#123; input | json &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- $implicit 代表當設定 let-xxxx 時，有個預設傳入的值  --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngTemplateOutlet</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>displayPage; context: &#123;$implicit: &#123;value: 1&#125;,background: backgroundColor&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>next()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Next<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>setBackground()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Set Blue Background<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Component<span class="token punctuation">,</span> QueryList<span class="token punctuation">,</span> ViewChildren<span class="token punctuation">,</span> AfterViewInit<span class="token punctuation">,</span> TemplateRef<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> CarouselPageDirective <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./carousel-page.directive'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'my-app'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./app.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'./app.component.css'</span> <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token keyword">implements</span> <span class="token class-name">AfterViewInit</span> <span class="token punctuation">&#123;</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">ViewChildren</span></span><span class="token punctuation">(</span>CarouselPageDirective<span class="token punctuation">)</span> carouselPages<span class="token operator">:</span> QueryList<span class="token operator">&lt;</span>CarouselPageDirective<span class="token operator">></span> 
  displayPage<span class="token operator">:</span> TemplateRef<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">;</span>
  index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  backgroundColor<span class="token punctuation">;</span>

  <span class="token function">setDisplayPage</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>displayPage <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carouselPages<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=></span> index <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span>templateRef<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">ngAfterViewInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setDisplayPage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carouselPages<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setDisplayPage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">setBackground</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>方便用 @ViewChildren 取得 <code>&lt;ng-template&gt;</code></p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Directive<span class="token punctuation">,</span> TemplateRef <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Directive</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'[appCarouselPage]'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CarouselPageDirective</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// @Optional 是 Angular 中的一個依賴注入（Dependency Injection）的裝飾器，可以用來標記一個依賴對象為可選的。</span>
    <span class="token comment">// 讓此指令有機會同時掛在純元素與 Template 上</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token decorator"><span class="token at operator">@</span><span class="token function">Optional</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">private</span> elementRef<span class="token operator">:</span> ElementRef<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">,</span>
        <span class="token decorator"><span class="token at operator">@</span><span class="token function">Optional</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">private</span> templateRef<span class="token operator">:</span> TemplateRef<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">,</span>
        <span class="token decorator"><span class="token at operator">@</span><span class="token function">Optional</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">private</span> viewContainerRef<span class="token operator">:</span> ViewContainerRef<span class="token punctuation">,</span>
    <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> 
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'viewContainerRef'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>vewContainerRef<span class="token punctuation">.</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'templateRef'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>templateRef<span class="token punctuation">.</span>elementRef<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'elementRef'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>elementRef<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>templateRef<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token comment">// 針對 template 處理</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// 針對 element 處理</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="day13-ng-container-不會產生元素標籤"><a href="#day13-ng-container-不會產生元素標籤" class="headerlink" title="day13 ng-container 不會產生元素標籤"></a>day13 ng-container 不會產生元素標籤</h3><ol>
<li>*ngIf 和 *ngFor 同時需要使用</li>
<li>避免需要改 CSS 選擇器</li>
</ol>
<h3 id="day14-動態載入元件-簡易版-ngComponentOutlet-Entry-components"><a href="#day14-動態載入元件-簡易版-ngComponentOutlet-Entry-components" class="headerlink" title="day14 動態載入元件 (簡易版) *ngComponentOutlet &#x2F; Entry components"></a>day14 動態載入元件 (簡易版) *ngComponentOutlet &#x2F; Entry components</h3><p>情境：當樣板上要呈現不同元件時，容易不小心把樣板程式碼弄髒時</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// &lt;input type="radio" id="formA" name="form" value="A" [(ngModel)]="chooseForm"></span>
<span class="token comment">// &lt;label for="formA">表單A&lt;/label></span>
<span class="token comment">// &lt;input type="radio" id="formB" name="form" value="B" [(ngModel)]="chooseForm"></span>
<span class="token comment">// &lt;label for="formB">表單B&lt;/label></span>
<span class="token comment">// &lt;input type="radio" id="formC" name="form" value="C" [(ngModel)]="chooseForm"></span>
<span class="token comment">// &lt;label for="formC">表單C&lt;/label></span>

<span class="token comment">// &lt;ng-container *ngIf="chooseForm === 'A'"></span>
<span class="token comment">//   &lt;app-component-a>&lt;/app-component-a></span>
<span class="token comment">// &lt;/ng-container></span>
<span class="token comment">// &lt;ng-container *ngIf="chooseForm === 'B'"></span>
<span class="token comment">//   &lt;app-component-b>&lt;/app-component-b></span>
<span class="token comment">// &lt;/ng-container></span>
<span class="token comment">// &lt;ng-container *ngIf="chooseForm === 'C'"></span>
<span class="token comment">//   &lt;app-component-c>&lt;/app-component-c></span>
<span class="token comment">// &lt;/ng-container></span>

<span class="token operator">&lt;</span>ng<span class="token operator">-</span>container <span class="token operator">*</span>ngComponentOutlet<span class="token operator">=</span><span class="token string">"mapping.get(chooseForm)"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>ng<span class="token operator">-</span>container<span class="token operator">></span>

chooseForm <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
mapping <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">></span></span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> ComponentAComponent<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">,</span> ComponentBComponent<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'C'</span><span class="token punctuation">,</span> ComponentCComponent<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="day15-動態載入元件-複雜版-ViewContainerRef-createEmbeddedView-ComponentFactoryResolver-請參考無頭組件應用"><a href="#day15-動態載入元件-複雜版-ViewContainerRef-createEmbeddedView-ComponentFactoryResolver-請參考無頭組件應用" class="headerlink" title="day15 動態載入元件 (複雜版) ViewContainerRef &#x2F; createEmbeddedView &#x2F; ComponentFactoryResolver 請參考無頭組件應用"></a>day15 動態載入元件 (複雜版) ViewContainerRef &#x2F; createEmbeddedView &#x2F; ComponentFactoryResolver <a href="#%E7%84%A1%E9%A0%AD%E7%B5%84%E4%BB%B6-%E4%BD%BF%E7%94%A8%E6%83%85%E5%A2%83">請參考無頭組件應用</a></h3><ul>
<li>ViewContainerRef：表示一個視圖容器，可以用來創建、插入和移除動態組件。通過 ViewContainerRef，可以動態創建一個子視圖並將其插入到容器中。例如，可以通過 ViewContainerRef.createComponent 方法動態創建一個組件，然後通過 ViewContainerRef.insert 方法將它插入到容器中。ViewContainerRef 可以在組件中通過 @ViewChild 或 @ViewChildren 裝飾器進行注入。</li>
<li>ElementRef：表示一個 DOM 元素的引用，可以用來操作和訪問該元素的屬性和方法。通過 ElementRef.nativeElement 屬性可以獲取到該元素的 DOM 對象。例如，可以使用 ElementRef.nativeElement.style 屬性來設置元素的樣式。ElementRef 可以在組件中通過 @ViewChild 或 @ViewChildren 裝飾器進行注入。</li>
<li>TemplateRef：表示一個模板的引用，可以用來動態創建和渲染模板。通過 TemplateRef.createEmbeddedView 方法可以動態創建一個嵌入式視圖（Embedded View），然後使用 ViewContainerRef.createEmbeddedView 方法將其插入到視圖容器中。TemplateRef 通常用於實現可重複使用的組件或動態生成模板的場景。TemplateRef 可以在組件中通過 @ViewChild 或 @ContentChild 裝飾器進行注入。</li>
</ul>
<h3 id="day16-客製化指令-Structural-data-”data-xxx-value-xxx-”-Attribute-data-”data”-let-xxx-Directive"><a href="#day16-客製化指令-Structural-data-”data-xxx-value-xxx-”-Attribute-data-”data”-let-xxx-Directive" class="headerlink" title="day16 客製化指令 Structural ( *data&#x3D;”data; xxx: { value: xxx }” ) &#x2F; Attribute ( [data]&#x3D;”data” let-xxx ) Directive"></a>day16 客製化指令 <a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10207012">Structural ( *data&#x3D;”data; xxx: { value: xxx }” ) &#x2F; Attribute ( [data]&#x3D;”data” let-xxx ) Directive</a></h3><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Directive<span class="token punctuation">,</span> EmbeddedViewRef<span class="token punctuation">,</span> ViewContainerRef<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> TemplateRef <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Directive</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'[appTemplateOutlet]'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TemplateOutletDirective</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">private</span> _viewRef<span class="token operator">:</span> EmbeddedViewRef<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">;</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Input</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> appTemplateOutletData<span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Input</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">set</span> <span class="token function">appTemplateOutlet</span><span class="token punctuation">(</span>template<span class="token operator">:</span> TemplateRef<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>viewContainerRef<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_viewRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>viewContainerRef<span class="token punctuation">.</span><span class="token function">createEmbeddedView</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_viewRef<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>appTemplateOutletData<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> viewContainerRef<span class="token operator">:</span> ViewContainerRef<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="day17-HTTP-INTERCEPTORS-攔截-Http-Request-HttpHandler"><a href="#day17-HTTP-INTERCEPTORS-攔截-Http-Request-HttpHandler" class="headerlink" title="day17 HTTP_INTERCEPTORS 攔截 Http Request &#x2F; HttpHandler"></a>day17 HTTP_INTERCEPTORS 攔截 Http Request &#x2F; HttpHandler</h3><h3 id="day18-ErrorHandler-集中處理錯誤"><a href="#day18-ErrorHandler-集中處理錯誤" class="headerlink" title="day18 ErrorHandler 集中處理錯誤"></a>day18 ErrorHandler 集中處理錯誤</h3><h3 id="day19-APP-INITIALIZER-在程式運行早期處理資料"><a href="#day19-APP-INITIALIZER-在程式運行早期處理資料" class="headerlink" title="day19 APP_INITIALIZER 在程式運行早期處理資料"></a>day19 APP_INITIALIZER 在程式運行早期處理資料</h3><h3 id="day20-NgModule-providers-useClass-useExisting"><a href="#day20-NgModule-providers-useClass-useExisting" class="headerlink" title="day20 @NgModule providers useClass useExisting"></a>day20 @NgModule providers useClass useExisting</h3><h3 id="day21-NgModule-providers-useValue-useFactory"><a href="#day21-NgModule-providers-useValue-useFactory" class="headerlink" title="day21 @NgModule providers useValue useFactory"></a>day21 @NgModule providers useValue useFactory</h3><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token function-variable function">dataServiceFactory</span> <span class="token operator">=</span> <span class="token punctuation">(</span>configService<span class="token operator">:</span> ConfigService<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>configService<span class="token punctuation">.</span>admin<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AdminService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DataService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="day22-注入-Token-實體方法-建構式注入-Injector-物件-Component-、-Directive-providers"><a href="#day22-注入-Token-實體方法-建構式注入-Injector-物件-Component-、-Directive-providers" class="headerlink" title="day22 注入 Token 實體方法 ( 建構式注入 &#x2F; Injector 物件 &#x2F; @Component 、 @Directive providers )"></a>day22 注入 Token 實體方法 ( 建構式注入 &#x2F; Injector 物件 &#x2F; @Component 、 @Directive providers )</h3><h3 id="day23-InjectionToken-強制產生-Token-Inject"><a href="#day23-InjectionToken-強制產生-Token-Inject" class="headerlink" title="day23 InjectionToken 強制產生 Token &#x2F; @Inject()"></a>day23 InjectionToken 強制產生 Token &#x2F; @Inject()</h3><pre class="line-numbers language-TS" data-language="TS"><code class="language-TS">import &#123; InjectionToken &#125; from &#39;@angular&#x2F;core&#39;;

export interface Config &#123;
  LogLevel: string
&#125;

export const CONFIG_TOKEN &#x3D; new InjectionToken&lt;Config&gt;(&#39;config token&#39;,
  &#123;
    providedIn: &#39;root&#39;,
    factory: () &#x3D;&gt; (&#123;
      LogLevel: &#39;Error&#39;
    &#125;)
  &#125;
);
export const NAME_TOKEN &#x3D; new InjectionToken&lt;string&gt;(&#39;name token&#39;);

@NgModule(&#123;
  providers: [
    &#123;
      provide: CONFIG_TOKEN,
      useValue: &#123; LogLevel: &#39;Error&#39; &#125;
    &#125;,
    &#123;
      provide: NAME_TOKEN,
      useValue: &#39;Mike&#39;
    &#125;
  ]
&#125;)
export class AppModule &#123; &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="day24-NgZone-得知所有非同步事件的發生，確認何時要進行變更偵測的工具。-onUnstable-onStable-runOutsideAngular-run"><a href="#day24-NgZone-得知所有非同步事件的發生，確認何時要進行變更偵測的工具。-onUnstable-onStable-runOutsideAngular-run" class="headerlink" title="day24 NgZone 得知所有非同步事件的發生，確認何時要進行變更偵測的工具。 onUnstable &#x2F; onStable &#x2F; runOutsideAngular &#x2F; run"></a>day24 NgZone 得知所有非同步事件的發生，確認何時要進行變更偵測的工具。 onUnstable &#x2F; onStable &#x2F; runOutsideAngular &#x2F; run</h3><ul>
<li>避免發生變更偵測效能耗損</li>
<li>脫離變更偵測整合第三方套件</li>
<li>與 DOM 操作有關的再透過 run 讓程式回變更偵測</li>
</ul>
<h3 id="day25-ChangeDetectorRef-每個元件獨立控制變更偵測時機效能調校。-detach-reattach-detectChanges"><a href="#day25-ChangeDetectorRef-每個元件獨立控制變更偵測時機效能調校。-detach-reattach-detectChanges" class="headerlink" title="day25 ChangeDetectorRef 每個元件獨立控制變更偵測時機效能調校。 detach &#x2F; reattach &#x2F; detectChanges"></a>day25 ChangeDetectorRef 每個元件獨立控制變更偵測時機效能調校。 detach &#x2F; reattach &#x2F; detectChanges</h3><h3 id="day26-元件的變更偵測策略-關閉自動偵測、手動打開-changeDetection-ChangeDetectorRef-markForCheck"><a href="#day26-元件的變更偵測策略-關閉自動偵測、手動打開-changeDetection-ChangeDetectorRef-markForCheck" class="headerlink" title="day26 元件的變更偵測策略 ( 關閉自動偵測、手動打開 ) changeDetection &#x2F; ChangeDetectorRef &#x2F; markForCheck"></a>day26 元件的變更偵測策略 ( 關閉自動偵測、手動打開 ) changeDetection &#x2F; ChangeDetectorRef &#x2F; markForCheck</h3><h3 id="day27-AsyncPipe-技巧-as-Rxjs-Operator-shareReplay"><a href="#day27-AsyncPipe-技巧-as-Rxjs-Operator-shareReplay" class="headerlink" title="day27 AsyncPipe 技巧 as &#x2F; Rxjs Operator shareReplay"></a>day27 AsyncPipe 技巧 as &#x2F; Rxjs Operator shareReplay</h3><p><code>&lt;li *ngFor=&quot;let todo of todos$ | async&quot;&gt;&#123;&#123; todo.title &#125;&#125;&lt;/li&gt;</code></p>
<ul>
<li>在開發習慣中，我們會在變數後面加上一個 $ 符號，代表他是一個 observable。</li>
<li>自動處理 Promise，不過在 Angular 中還是使用 RxJS 居多</li>
<li>自動管理變更偵測，較不會消耗效能</li>
<li>類延遲載入</li>
</ul>
<pre class="line-numbers language-TS" data-language="TS"><code class="language-TS">&lt;ng-container *ngIf&#x3D;&quot;todos$ | async as todos; else loading&quot;&gt;
  &lt;ul&gt;
    &lt;!-- 在內部就不需要使用 todos$ | async，而是使用 as 後面的 todos 區域變數 --&gt;
    &lt;li *ngFor&#x3D;&quot;let todo of todos&quot;&gt;&#123;&#123; todo.title &#125;&#125;&lt;&#x2F;li&gt;
  &lt;&#x2F;ul&gt;
&lt;&#x2F;ng-container&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>shareReplay 若希望只有第一次要顯示時呼叫就好，保留最近 N 次內容，預設會先「重播」最新 N 次的紀錄</p>
<h3 id="day28-AsyncPipe-進階技巧"><a href="#day28-AsyncPipe-進階技巧" class="headerlink" title="day28 AsyncPipe 進階技巧"></a>day28 AsyncPipe 進階技巧</h3><ul>
<li>自動退訂</li>
<li>自動要求變更偵測</li>
</ul>
<h3 id="day29-RxJS-operators-基礎篇"><a href="#day29-RxJS-operators-基礎篇" class="headerlink" title="day29 RxJS operators 基礎篇"></a>day29 RxJS operators 基礎篇</h3><ol>
<li>map 將一個訂閱可以得到的資料轉換成另外一筆資料<ul>
<li>情境：</li>
<li>pipe 鏈式中資料轉換到下一層只留新的整理後的格式</li>
<li>有一個元件需要帶入一個陣列，當作選單資料來源，而在從網路取得資料後，希望能加入一筆預設值</li>
</ul>
</li>
<li>tap 什麼都不影響，類似中間層，可以在那個時間段做某些事<ul>
<li>情境：</li>
<li>console.log</li>
<li>資料給定</li>
</ul>
</li>
<li>switchMap 有順序收到 observable 資料轉換成另外一個 observable &#x2F; concatMap &#x2F; mergeMap &#x2F; exhaustMap<ul>
<li>情境：</li>
<li>路由內容(observable)變更時，再去 API 請求(observable)資料</li>
<li>一系列有前後順序必要的 observable</li>
</ul>
</li>
</ol>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> route<span class="token operator">:</span> ActivatedRoute<span class="token punctuation">,</span> <span class="token keyword">private</span> httpClient<span class="token operator">:</span> HttpClient<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">&#125;</span>

<span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>params <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 以下這段也是個 observable，這時就會面臨到巢狀 ob 包 ob 的冏境</span>
    <span class="token comment">// this.httpClient</span>
    <span class="token comment">//   .get(`.../post/$&#123;params['id']&#125;`)</span>
    <span class="token comment">//     .subscribe(post => &#123;</span>
    <span class="token comment">//       this.post = post;</span>
    <span class="token comment">// &#125;)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">switchMap</span><span class="token punctuation">(</span>params <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.../post/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>params<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 更複雜的應用</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>postData$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">switchMap</span><span class="token punctuation">(</span>params <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient
      <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.../post/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>params<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
        <span class="token function">map</span><span class="token punctuation">(</span>post <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span> id<span class="token operator">:</span> params<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> post<span class="token operator">:</span> post <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">switchMap</span><span class="token punctuation">(</span>post <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient
      <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.../comments/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>post<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
        <span class="token function">map</span><span class="token punctuation">(</span>comments <span class="token operator">=></span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>post<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> comments<span class="token operator">:</span> comments <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="4">
<li>combineLatest 沒有順序平行處理 observable 所有 observable 有資料後才進行後續處理<ul>
<li>情境：</li>
<li>包含搜尋、排序和分頁的資料，我們可以將搜尋、排序和分頁都設計成單一個 observable，在使用 combineLatest 產生搜尋結果</li>
<li>startWith 在程式一開始就給空的資料來產生搜尋結果，確保 observable 可以有起始的資料</li>
</ul>
</li>
</ol>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> posts$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.../posts'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> tags$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.../tags'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>data$ <span class="token operator">=</span> <span class="token function">combineLatest</span><span class="token punctuation">(</span>posts$<span class="token punctuation">,</span> tags$<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>posts<span class="token punctuation">,</span> tags<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>posts<span class="token operator">:</span> posts<span class="token punctuation">,</span> tags<span class="token operator">:</span> tags<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">this</span><span class="token punctuation">.</span>products$ <span class="token operator">=</span> <span class="token function">combineLatest</span><span class="token punctuation">(</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>filterChange$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">startWith</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sortChange$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">startWith</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>pageChange$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">startWith</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">exhaustMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>keyword<span class="token punctuation">,</span> sort<span class="token punctuation">,</span> page<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient
      <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.../products</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> keyword<span class="token operator">:</span> keyword<span class="token punctuation">,</span> sort<span class="token operator">:</span> sort<span class="token punctuation">,</span> page<span class="token operator">:</span> page<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="5">
<li>forkJoin 在所有 observable 都完成 ( complete ) 後，才會取得最終的結果<ul>
<li>情境：</li>
<li>Http Request 的整合</li>
</ul>
</li>
</ol>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> posts$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.../posts'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> tags$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.../tags'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>data$ <span class="token operator">=</span> <span class="token function">forkJoin</span><span class="token punctuation">(</span>posts$<span class="token punctuation">,</span> tags$<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>posts<span class="token punctuation">,</span> tags<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>posts<span class="token operator">:</span> posts<span class="token punctuation">,</span> tags<span class="token operator">:</span> tags<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="day30-RxJS-operators-進階應用"><a href="#day30-RxJS-operators-進階應用" class="headerlink" title="day30 RxJS operators 進階應用"></a>day30 RxJS operators 進階應用</h3><ol start="5">
<li>debounceTime 緩衝設定一個時間(毫秒)只要還有新資料傳入暫時忽視，直到沒有更新後才傳給下一個 operators<ul>
<li>情境：</li>
<li>輸入完後自動搜尋資料，而不用再去按個按鈕，但資料變更的瞬間，就發出一次 API 呼叫，對伺服器的 loading 會太重</li>
</ul>
</li>
</ol>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">data$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>searchControl<span class="token punctuation">.</span>valueChanges<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">debounceTime</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 當 300 毫秒沒有新資料時，才進行搜尋</span>
  <span class="token function">switchMap</span><span class="token punctuation">(</span>keyword <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.../?q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>keyword<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="6">
<li>distinctUntilChanged 在上一次資料與這次資料相同時，主動忽略變更<ul>
<li>情境：</li>
<li>重複的關鍵字搜尋</li>
</ul>
</li>
</ol>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">data$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>searchControl<span class="token punctuation">.</span>valueChanges<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">debounceTime</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 當 300 毫秒沒有新資料時，才進行搜尋</span>
  <span class="token function">distinctUntilChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 當「內容真正有變更」時，才進行搜尋</span>
  <span class="token function">switchMap</span><span class="token punctuation">(</span>keyword <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.../?q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>keyword<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="7">
<li>scan 上述 debounceTime 是用時間卡控，這個是用次數卡控，也可參考以下 filter operators</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/71873411/how-can-i-determine-the-number-of-values-has-been-emitted-during-the-debounce-ti">How can I determine the number of values has been emitted during the debounce time?</a></p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> debounceCounter <span class="token operator">=</span>
  <span class="token punctuation">(</span>dueTime<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> MonoTypeOperatorFunction<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span> <span class="token operator">=></span>
  <span class="token punctuation">(</span>source<span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">unknown</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span> <span class="token operator">=></span>
    <span class="token keyword">new</span> <span class="token class-name">Observable</span><span class="token punctuation">(</span>observer <span class="token operator">=></span>
      source
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
          <span class="token function">scan</span><span class="token punctuation">(</span>acc <span class="token operator">=></span> acc <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token function">debounceTime</span><span class="token punctuation">(</span>dueTime<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token function">startWith</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token function">pairwise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>previous<span class="token punctuation">,</span> current<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> current <span class="token operator">-</span> previous<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
          <span class="token function-variable function">next</span><span class="token operator">:</span> x <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            observer<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
          <span class="token function-variable function">error</span><span class="token operator">:</span> err <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            observer<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
          <span class="token function-variable function">complete</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            observer<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="8">
<li>filter 過濾資料用的</li>
</ol>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">data$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>searchControl<span class="token punctuation">.</span>valueChanges<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">debounceTime</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 當 300 毫秒沒有新資料時，才進行搜尋</span>
  <span class="token function">distinctUntilChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 當「內容真正有變更」時，才進行搜尋</span>
  <span class="token function">filter</span><span class="token punctuation">(</span>keyword <span class="token operator">=></span> keyword<span class="token punctuation">.</span>length <span class="token operator">>=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 當關鍵字大於 3 個字時，才搜尋</span>
  <span class="token function">switchMap</span><span class="token punctuation">(</span>keyword <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.../?q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>keyword<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="9">
<li>Subject 搭配 service 跨元件傳遞資料<ul>
<li>單純使用 Subject 時，最大的問題是在訂閱時若沒有發生任何的 next() 呼叫，會完全收不到過去的資料，可以透過下兩個 operators</li>
</ul>
</li>
</ol>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  providedIn<span class="token operator">:</span> <span class="token string">'root'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ChatService</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">private</span> _message <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'world'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  messages$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>messages$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">addMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_message <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>_message<span class="token punctuation">,</span> message<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>messages$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="10">
<li><p>BehaviorSubject 可以在資料被訂閱前，給予初始資料，任何 next 發生前執行 subscribe() 都會得到初始資料</p>
</li>
<li><p>ReplaySubject 會記錄所有呼叫 next() 變更的資料，在被 subscribe() 時，重新播放所有紀錄( 可設定紀錄最近的 N 筆 )</p>
</li>
<li><p>AsyncSubject 只有在 complete() 方法被呼叫時，才能訂閱到「最後一次 next() 的資料」</p>
</li>
<li><p>observable 錯誤處理 catchError 攔截發生的錯誤，並回傳另外一個 observable，讓整個 observable 可以順利繼續運作</p>
<ul>
<li>情境：</li>
<li>一般的 error 只要任一個 operator 內發生錯誤，整個 observable 都會錯誤並結束</li>
<li>使用 AsyncPipe 時，幾乎不會再有 subscribe();<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// subject.subscribe(</span>
<span class="token comment">//   data => &#123;</span>
<span class="token comment">//     console.log(`Sub2 => $&#123;data&#125;`);</span>
<span class="token comment">//   &#125;,</span>
<span class="token comment">//   error => &#123;</span>
<span class="token comment">//     console.log('error', error)</span>
<span class="token comment">//   &#125;</span>
<span class="token comment">// );</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.../posts</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">catchError</span><span class="token punctuation">(</span>error <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
</li>
<li><p>observable 錯誤處理 throwError 希望錯誤時就整個中斷，或是主動拋出錯誤</p>
</li>
</ol>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.../posts</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">tap</span><span class="token punctuation">(</span>data <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 主動丟出錯誤</span>
      <span class="token function">throwError</span><span class="token punctuation">(</span><span class="token string">'no data'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>   
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">catchError</span><span class="token punctuation">(</span>error <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="16">
<li>try … catch … finally &#x3D;&gt; finalize 最後一定會執行的程式</li>
</ol>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 進入讀取中狀態</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.../posts</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
  <span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 不管中間程式遇到任何錯誤，一定會進入 finalize 裡面</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="無頭組件-使用情境"><a href="#無頭組件-使用情境" class="headerlink" title="無頭組件 使用情境"></a>無頭組件 使用情境</h2><blockquote>
<p>透過 Angular ComponentFactoryResolver 製作無頭組件 &#x2F; Component 需註冊 AppModule entryComponents</p>
</blockquote>
<ol>
<li>動態生成組件</li>
<li>組件化服務</li>
<li>組件化渲染</li>
<li>動態創建指令</li>
<li>動態創建彈出框</li>
</ol>
<h3 id="動態生成組件"><a href="#動態生成組件" class="headerlink" title="動態生成組件"></a>動態生成組件</h3><p>在這個範例中，我們在 AppComponent 中創建了一個 MyComponent 組件的實例，並將其添加到畫面上。當用戶點擊 “Create Component” 按鈕時，我們使用 ComponentFactoryResolver 動態創建 MyComponent 組件的實例，並設定其 name 屬性。</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Component<span class="token punctuation">,</span> ComponentFactoryResolver<span class="token punctuation">,</span> ViewContainerRef <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-root'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;button (click)="createComponent()">Create Component&lt;/button>
    &lt;div #container>&lt;/div>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">&#123;</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">ViewChild</span></span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> read<span class="token operator">:</span> ViewContainerRef <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> container<span class="token operator">:</span> ViewContainerRef<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> resolver<span class="token operator">:</span> ComponentFactoryResolver<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token function">createComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> factory <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resolver<span class="token punctuation">.</span><span class="token function">resolveComponentFactory</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> componentRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">createComponent</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    componentRef<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'John Doe'</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-my-component'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;p>Hello, &#123;&#123; name &#125;&#125;!&lt;/p>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="組件化服務"><a href="#組件化服務" class="headerlink" title="組件化服務"></a>組件化服務</h3><p>在這個範例中，我們創建了一個名為 MyService 的服務，它包含一個 doSomething 方法。我們還創建了一個 MyComponent 組件，它注入了 MyService，並在 ngOnInit 中調用了 doSomething 方法。在 AppComponent 中，我們使用 ComponentFactoryResolver 動態創建了 MyComponent 組件的實例，並將其添加到畫面上。當用戶點擊 “Create Component” 按鈕時，我們動態創建 MyComponent 組件的實例，這個實例包含了 MyService 服務的實例。這樣，我們就可以在組件化的環境中使用服務，實現了服務的組件化。</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Injectable<span class="token punctuation">,</span> Component<span class="token punctuation">,</span> ComponentFactoryResolver<span class="token punctuation">,</span> ViewContainerRef <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyService</span> <span class="token punctuation">&#123;</span>
  <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Doing something...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-my-component'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> service<span class="token operator">:</span> MyService<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-root'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;button (click)="createComponent()">Create Component&lt;/button>
    &lt;div #container>&lt;/div>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">&#123;</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">ViewChild</span></span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> read<span class="token operator">:</span> ViewContainerRef <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> container<span class="token operator">:</span> ViewContainerRef<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> resolver<span class="token operator">:</span> ComponentFactoryResolver<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token function">createComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> factory <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resolver<span class="token punctuation">.</span><span class="token function">resolveComponentFactory</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> componentRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">createComponent</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="組件化渲染"><a href="#組件化渲染" class="headerlink" title="組件化渲染"></a>組件化渲染</h3><p>在這個範例中，我們創建了兩個動態組件 DynamicFormComponent 和 DynamicTableComponent，並在 AppComponent 中動態創建了這兩個組件。我們還在 DynamicTableComponent 中添加了一個 data 屬性，用於設定表格組件的數據源。通過動態生成組件和設定組件的數據源，我們可以靈活地構建 UI 組件，實現高度可配置的 UI 系統。</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Component<span class="token punctuation">,</span> ComponentFactoryResolver<span class="token punctuation">,</span> ViewContainerRef <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-root'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;app-dynamic-form>&lt;/app-dynamic-form>
    &lt;app-dynamic-table>&lt;/app-dynamic-table>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> resolver<span class="token operator">:</span> ComponentFactoryResolver<span class="token punctuation">,</span> <span class="token keyword">private</span> container<span class="token operator">:</span> ViewContainerRef<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token function">ngAfterViewInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 動態創建表單組件</span>
    <span class="token keyword">const</span> formFactory <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resolver<span class="token punctuation">.</span><span class="token function">resolveComponentFactory</span><span class="token punctuation">(</span>DynamicFormComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">createComponent</span><span class="token punctuation">(</span>formFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 動態創建表格組件</span>
    <span class="token keyword">const</span> tableFactory <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resolver<span class="token punctuation">.</span><span class="token function">resolveComponentFactory</span><span class="token punctuation">(</span>DynamicTableComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> tableRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">createComponent</span><span class="token punctuation">(</span>tableFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 設定表格組件的數據源</span>
    <span class="token keyword">const</span> tableComponent <span class="token operator">=</span> <span class="token operator">&lt;</span>DynamicTableComponent<span class="token operator">></span>tableRef<span class="token punctuation">.</span>instance<span class="token punctuation">;</span>
    tableComponent<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'John Doe'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> name<span class="token operator">:</span> <span class="token string">'Jane Doe'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">25</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-dynamic-form'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DynamicFormComponent</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-dynamic-table'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;table>
      &lt;thead>
        &lt;tr>
          &lt;th>Name&lt;/th>
          &lt;th>Age&lt;/th>
        &lt;/tr>
      &lt;/thead>
      &lt;tbody>
        &lt;tr *ngFor="let item of data">
          &lt;td>&#123;&#123; item.name &#125;&#125;&lt;/td>
          &lt;td>&#123;&#123; item.age &#125;&#125;&lt;/td>
        &lt;/tr>
      &lt;/tbody>
    &lt;/table>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DynamicTableComponent</span> <span class="token punctuation">&#123;</span>
  data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="動態創建指令"><a href="#動態創建指令" class="headerlink" title="動態創建指令"></a>動態創建指令</h3><p>在這個範例中，我們創建了一個指令 TooltipDirective，它用於為 DOM 元素添加一個提示框。當用戶將鼠標懸停在元素上時，我們使用 ComponentFactoryResolver 動態創建了一個 TooltipComponent 組件的實例，並將其添加到 DOM 元素上。當用戶將鼠標移開時，我們將提示框從 DOM 中移除。</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Directive<span class="token punctuation">,</span> ComponentFactoryResolver<span class="token punctuation">,</span> ViewContainerRef<span class="token punctuation">,</span> ElementRef <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Directive</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'[appTooltip]'</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TooltipDirective</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> resolver<span class="token operator">:</span> ComponentFactoryResolver<span class="token punctuation">,</span> <span class="token keyword">private</span> container<span class="token operator">:</span> ViewContainerRef<span class="token punctuation">,</span> <span class="token keyword">private</span> el<span class="token operator">:</span> ElementRef<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token function">showTooltip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> factory <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resolver<span class="token punctuation">.</span><span class="token function">resolveComponentFactory</span><span class="token punctuation">(</span>TooltipComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> componentRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">createComponent</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> tooltipElement <span class="token operator">=</span> componentRef<span class="token punctuation">.</span>location<span class="token punctuation">.</span>nativeElement<span class="token punctuation">;</span>

    tooltipElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>
    tooltipElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nativeElement<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    tooltipElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nativeElement<span class="token punctuation">.</span>offsetTop <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nativeElement<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nativeElement<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tooltipElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">hideTooltip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-tooltip'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div>
      &lt;div>&#123;&#123; text &#125;&#125;&lt;/div>
      &lt;div *ngIf="showArrow" class="arrow">&lt;/div>
    &lt;/div>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">TooltipComponent</span> <span class="token punctuation">&#123;</span>
  text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  showArrow<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="動態創建彈出框"><a href="#動態創建彈出框" class="headerlink" title="動態創建彈出框"></a>動態創建彈出框</h3><p>在這個範例中，我們創建了一個彈出框 ModalComponent，並在 AppComponent 中動態創建了這個彈出框的實例。我們還通過設定 title 和 message 屬性，設定了彈出框的標題和消息。當用戶點擊 “Close” 按鈕時，我們發出了一個 close 事件，並在 AppComponent 中訂閱了這個事件，在事件觸發時銷毀彈出框的實例。通過動態創建彈出框，我們可以實現更靈活的提示框、確認框等功能。</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Component<span class="token punctuation">,</span> ComponentFactoryResolver<span class="token punctuation">,</span> ViewContainerRef <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-root'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;button (click)="showModal()">Show Modal&lt;/button>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> resolver<span class="token operator">:</span> ComponentFactoryResolver<span class="token punctuation">,</span> <span class="token keyword">private</span> container<span class="token operator">:</span> ViewContainerRef<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token function">showModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> factory <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>resolver<span class="token punctuation">.</span><span class="token function">resolveComponentFactory</span><span class="token punctuation">(</span>ModalComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> componentRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">createComponent</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span><span class="token punctuation">;</span>

    componentRef<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'Modal Title'</span><span class="token punctuation">;</span>
    componentRef<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'Modal Message'</span><span class="token punctuation">;</span>

    componentRef<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>close<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      componentRef<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-modal'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div class="modal">
      &lt;div class="modal-content">
        &lt;h2>&#123;&#123; title &#125;&#125;&lt;/h2>
        &lt;p>&#123;&#123; message &#125;&#125;&lt;/p>
        &lt;button (click)="close.next()">Close&lt;/button>
      &lt;/div>
    &lt;/div>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ModalComponent</span> <span class="token punctuation">&#123;</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  close <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventEmitter<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
    </div>
  </article>
  <div class="postNext d-flex justify-content-between mt-3 mb-3">
    
      <h4>
        <a href="/Dev-Tech/WrapperHighOrderComponent/">
          <span><<</span>
          <!-- <i class="fa-solid fa-angles-left"></i>  -->
          二次封裝實現自己的函式庫：Angular
        </a>
      </h4>
      
        
          <h4>
            <a href="/Language/MemoryWordByRuleOfSoundLawsInIndo/">
              詞源學如何幫你五天記住一萬個單字-筆記 
              <span>>></span>
              <!-- <i class="fa-solid fa-angles-right"></i> -->
            </a>
          </h4>
          
  </div>
  
  <div id="waline"></div>
  <script type="module">
    import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';
    let option = '{"el":"#waline","enable":true,"serverURL":"https://waline-urweb.vercel.app/","placeholder":"歡迎隨時提出您的建議，並不吝指教","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"lang":"en","visitor":true,"comment_count":true,"requiredFields":["nick","mail"],"libUrl":"https://cdnjs.cloudflare.com/ajax/libs/waline/2.14.5/waline.js","pageview":true,"reaction":true}';
    init(JSON.parse(option));
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>
  
    <input style="display:none" onload="addTotalViews()">
</main>
      
        <aside class="rightAside">
          <section>
            <h4>Table of contents</h4>
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#NG-%E5%A4%A7%E5%B8%AB%E4%B9%8B%E8%B7%AF-%E7%AD%86%E8%A8%98%E5%A4%A7%E7%B6%B1"><span class="toc-text">NG 大師之路 筆記大綱</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#day1-%E5%A4%A7%E7%B6%B1-%E5%B9%BE%E4%B9%8E%E4%BB%80%E9%BA%BC%E9%83%BD%E8%AC%9B"><span class="toc-text">day1 大綱 幾乎什麼都講</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day2-JSON-Schema-Monorepo"><span class="toc-text">day2 JSON Schema, Monorepo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day3-Lifecycle%EF%BC%9Amain-ts-%E5%8F%AF%E4%BB%A5%E5%95%9F%E5%8B%95%E5%A4%9A%E5%80%8B%E6%A0%B9%E6%A8%A1%E7%B5%84-app-module-ts-%E5%8F%AF%E4%BB%A5%E5%95%9F%E5%8B%95%E5%A4%9A%E5%80%8B%E6%A0%B9%E5%85%83%E4%BB%B6-app-component-ts-%E6%A0%B9%E5%85%83%E4%BB%B6"><span class="toc-text">day3 Lifecycle：main.ts ( 可以啟動多個根模組 ) &#x3D;&gt; app.module.ts ( 可以啟動多個根元件 ) &#x3D;&gt; app.component.ts 根元件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day4-%E5%85%83%E4%BB%B6-Lifecycle-%E9%99%A4%E4%BA%86%E5%9F%BA%E6%9C%AC%E7%9A%84%E5%A4%96%E5%B7%AE%E7%95%B0%E5%9C%A8-OnChange-%E8%88%87-ng-Content-%E7%9A%84%E7%94%9F%E5%91%BD%E9%80%B1%E6%9C%9F%EF%BC%8C%E6%9C%83%E5%BD%B1%E9%9F%BF%E5%88%B0-ContentChild-ContentChildren-%E7%9A%84%E5%8F%96%E5%BE%97%E8%88%87%E5%90%A6"><span class="toc-text">day4 元件 Lifecycle 除了基本的外差異在 OnChange 與 ng Content 的生命週期，會影響到 @ContentChild, @ContentChildren 的取得與否</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day5-NgModule-%E5%8F%83%E6%95%B8%E6%87%89%E7%94%A8%E3%80%81%E5%8B%95-%E9%9D%9C%E6%85%8B%E8%BC%89%E5%85%A5%E5%85%83%E4%BB%B6"><span class="toc-text">day5 NgModule 參數應用、動&#x2F;靜態載入元件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day6-Feature%E3%80%81Shared%E3%80%81Core-Module-%E3%80%81-Ng-6-Service-%E8%87%AA%E5%8B%95-providedIn-root-Module"><span class="toc-text">day6 Feature、Shared、Core Module 、 Ng 6 Service 自動 providedIn root Module</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day7-Two-Way-Binding"><span class="toc-text">day7 Two Way Binding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day8-%E8%87%AA%E8%A8%82%E8%A1%A8%E5%96%AE%E6%8E%A7%E5%88%B6%E9%A0%85-Token%EF%BC%9ANG-VALUE-ACCESSOR-ControlValueAccessor"><span class="toc-text">day8 自訂表單控制項 &#x2F; Token：NG_VALUE_ACCESSOR &#x2F; ControlValueAccessor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day9-Directive-%E6%8C%87%E4%BB%A4-exportAs"><span class="toc-text">day9 Directive 指令 exportAs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day10-any-%E6%A8%A3%E6%9D%BF%E8%AA%9E%E6%B3%95"><span class="toc-text">day10 $any 樣板語法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day11-ngIf-else-%E6%90%AD%E9%85%8D%E6%A8%A3%E6%9D%BF%E5%8F%83%E8%80%83%E8%AE%8A%E6%95%B8"><span class="toc-text">day11 *ngIf else 搭配樣板參考變數</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day12-ngTemplateOutlet"><span class="toc-text">day12 *ngTemplateOutlet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day13-ng-container-%E4%B8%8D%E6%9C%83%E7%94%A2%E7%94%9F%E5%85%83%E7%B4%A0%E6%A8%99%E7%B1%A4"><span class="toc-text">day13 ng-container 不會產生元素標籤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day14-%E5%8B%95%E6%85%8B%E8%BC%89%E5%85%A5%E5%85%83%E4%BB%B6-%E7%B0%A1%E6%98%93%E7%89%88-ngComponentOutlet-Entry-components"><span class="toc-text">day14 動態載入元件 (簡易版) *ngComponentOutlet &#x2F; Entry components</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day15-%E5%8B%95%E6%85%8B%E8%BC%89%E5%85%A5%E5%85%83%E4%BB%B6-%E8%A4%87%E9%9B%9C%E7%89%88-ViewContainerRef-createEmbeddedView-ComponentFactoryResolver-%E8%AB%8B%E5%8F%83%E8%80%83%E7%84%A1%E9%A0%AD%E7%B5%84%E4%BB%B6%E6%87%89%E7%94%A8"><span class="toc-text">day15 動態載入元件 (複雜版) ViewContainerRef &#x2F; createEmbeddedView &#x2F; ComponentFactoryResolver 請參考無頭組件應用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day16-%E5%AE%A2%E8%A3%BD%E5%8C%96%E6%8C%87%E4%BB%A4-Structural-data-%E2%80%9Ddata-xxx-value-xxx-%E2%80%9D-Attribute-data-%E2%80%9Ddata%E2%80%9D-let-xxx-Directive"><span class="toc-text">day16 客製化指令 Structural ( *data&#x3D;”data; xxx: { value: xxx }” ) &#x2F; Attribute ( [data]&#x3D;”data” let-xxx ) Directive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day17-HTTP-INTERCEPTORS-%E6%94%94%E6%88%AA-Http-Request-HttpHandler"><span class="toc-text">day17 HTTP_INTERCEPTORS 攔截 Http Request &#x2F; HttpHandler</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day18-ErrorHandler-%E9%9B%86%E4%B8%AD%E8%99%95%E7%90%86%E9%8C%AF%E8%AA%A4"><span class="toc-text">day18 ErrorHandler 集中處理錯誤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day19-APP-INITIALIZER-%E5%9C%A8%E7%A8%8B%E5%BC%8F%E9%81%8B%E8%A1%8C%E6%97%A9%E6%9C%9F%E8%99%95%E7%90%86%E8%B3%87%E6%96%99"><span class="toc-text">day19 APP_INITIALIZER 在程式運行早期處理資料</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day20-NgModule-providers-useClass-useExisting"><span class="toc-text">day20 @NgModule providers useClass useExisting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day21-NgModule-providers-useValue-useFactory"><span class="toc-text">day21 @NgModule providers useValue useFactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day22-%E6%B3%A8%E5%85%A5-Token-%E5%AF%A6%E9%AB%94%E6%96%B9%E6%B3%95-%E5%BB%BA%E6%A7%8B%E5%BC%8F%E6%B3%A8%E5%85%A5-Injector-%E7%89%A9%E4%BB%B6-Component-%E3%80%81-Directive-providers"><span class="toc-text">day22 注入 Token 實體方法 ( 建構式注入 &#x2F; Injector 物件 &#x2F; @Component 、 @Directive providers )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day23-InjectionToken-%E5%BC%B7%E5%88%B6%E7%94%A2%E7%94%9F-Token-Inject"><span class="toc-text">day23 InjectionToken 強制產生 Token &#x2F; @Inject()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day24-NgZone-%E5%BE%97%E7%9F%A5%E6%89%80%E6%9C%89%E9%9D%9E%E5%90%8C%E6%AD%A5%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%99%BC%E7%94%9F%EF%BC%8C%E7%A2%BA%E8%AA%8D%E4%BD%95%E6%99%82%E8%A6%81%E9%80%B2%E8%A1%8C%E8%AE%8A%E6%9B%B4%E5%81%B5%E6%B8%AC%E7%9A%84%E5%B7%A5%E5%85%B7%E3%80%82-onUnstable-onStable-runOutsideAngular-run"><span class="toc-text">day24 NgZone 得知所有非同步事件的發生，確認何時要進行變更偵測的工具。 onUnstable &#x2F; onStable &#x2F; runOutsideAngular &#x2F; run</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day25-ChangeDetectorRef-%E6%AF%8F%E5%80%8B%E5%85%83%E4%BB%B6%E7%8D%A8%E7%AB%8B%E6%8E%A7%E5%88%B6%E8%AE%8A%E6%9B%B4%E5%81%B5%E6%B8%AC%E6%99%82%E6%A9%9F%E6%95%88%E8%83%BD%E8%AA%BF%E6%A0%A1%E3%80%82-detach-reattach-detectChanges"><span class="toc-text">day25 ChangeDetectorRef 每個元件獨立控制變更偵測時機效能調校。 detach &#x2F; reattach &#x2F; detectChanges</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day26-%E5%85%83%E4%BB%B6%E7%9A%84%E8%AE%8A%E6%9B%B4%E5%81%B5%E6%B8%AC%E7%AD%96%E7%95%A5-%E9%97%9C%E9%96%89%E8%87%AA%E5%8B%95%E5%81%B5%E6%B8%AC%E3%80%81%E6%89%8B%E5%8B%95%E6%89%93%E9%96%8B-changeDetection-ChangeDetectorRef-markForCheck"><span class="toc-text">day26 元件的變更偵測策略 ( 關閉自動偵測、手動打開 ) changeDetection &#x2F; ChangeDetectorRef &#x2F; markForCheck</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day27-AsyncPipe-%E6%8A%80%E5%B7%A7-as-Rxjs-Operator-shareReplay"><span class="toc-text">day27 AsyncPipe 技巧 as &#x2F; Rxjs Operator shareReplay</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day28-AsyncPipe-%E9%80%B2%E9%9A%8E%E6%8A%80%E5%B7%A7"><span class="toc-text">day28 AsyncPipe 進階技巧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day29-RxJS-operators-%E5%9F%BA%E7%A4%8E%E7%AF%87"><span class="toc-text">day29 RxJS operators 基礎篇</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day30-RxJS-operators-%E9%80%B2%E9%9A%8E%E6%87%89%E7%94%A8"><span class="toc-text">day30 RxJS operators 進階應用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%84%A1%E9%A0%AD%E7%B5%84%E4%BB%B6-%E4%BD%BF%E7%94%A8%E6%83%85%E5%A2%83"><span class="toc-text">無頭組件 使用情境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8B%95%E6%85%8B%E7%94%9F%E6%88%90%E7%B5%84%E4%BB%B6"><span class="toc-text">動態生成組件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B5%84%E4%BB%B6%E5%8C%96%E6%9C%8D%E5%8B%99"><span class="toc-text">組件化服務</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B5%84%E4%BB%B6%E5%8C%96%E6%B8%B2%E6%9F%93"><span class="toc-text">組件化渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8B%95%E6%85%8B%E5%89%B5%E5%BB%BA%E6%8C%87%E4%BB%A4"><span class="toc-text">動態創建指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8B%95%E6%85%8B%E5%89%B5%E5%BB%BA%E5%BD%88%E5%87%BA%E6%A1%86"><span class="toc-text">動態創建彈出框</span></a></li></ol></li></ol>
          </section>
        </aside>

        <div class="mobileBtn btn">
          <!-- <i class="fa-solid fa-book-bookmark"></i> -->
          <div class="bookmarkIcon"></div>
        </div>

        <div class="modal" tabindex="-1" id="tocModal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Table of Contents</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                  onclick="tocModalClose()"></button>
              </div>
              <div class="modal-body">
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#NG-%E5%A4%A7%E5%B8%AB%E4%B9%8B%E8%B7%AF-%E7%AD%86%E8%A8%98%E5%A4%A7%E7%B6%B1"><span class="toc-text">NG 大師之路 筆記大綱</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#day1-%E5%A4%A7%E7%B6%B1-%E5%B9%BE%E4%B9%8E%E4%BB%80%E9%BA%BC%E9%83%BD%E8%AC%9B"><span class="toc-text">day1 大綱 幾乎什麼都講</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day2-JSON-Schema-Monorepo"><span class="toc-text">day2 JSON Schema, Monorepo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day3-Lifecycle%EF%BC%9Amain-ts-%E5%8F%AF%E4%BB%A5%E5%95%9F%E5%8B%95%E5%A4%9A%E5%80%8B%E6%A0%B9%E6%A8%A1%E7%B5%84-app-module-ts-%E5%8F%AF%E4%BB%A5%E5%95%9F%E5%8B%95%E5%A4%9A%E5%80%8B%E6%A0%B9%E5%85%83%E4%BB%B6-app-component-ts-%E6%A0%B9%E5%85%83%E4%BB%B6"><span class="toc-text">day3 Lifecycle：main.ts ( 可以啟動多個根模組 ) &#x3D;&gt; app.module.ts ( 可以啟動多個根元件 ) &#x3D;&gt; app.component.ts 根元件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day4-%E5%85%83%E4%BB%B6-Lifecycle-%E9%99%A4%E4%BA%86%E5%9F%BA%E6%9C%AC%E7%9A%84%E5%A4%96%E5%B7%AE%E7%95%B0%E5%9C%A8-OnChange-%E8%88%87-ng-Content-%E7%9A%84%E7%94%9F%E5%91%BD%E9%80%B1%E6%9C%9F%EF%BC%8C%E6%9C%83%E5%BD%B1%E9%9F%BF%E5%88%B0-ContentChild-ContentChildren-%E7%9A%84%E5%8F%96%E5%BE%97%E8%88%87%E5%90%A6"><span class="toc-text">day4 元件 Lifecycle 除了基本的外差異在 OnChange 與 ng Content 的生命週期，會影響到 @ContentChild, @ContentChildren 的取得與否</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day5-NgModule-%E5%8F%83%E6%95%B8%E6%87%89%E7%94%A8%E3%80%81%E5%8B%95-%E9%9D%9C%E6%85%8B%E8%BC%89%E5%85%A5%E5%85%83%E4%BB%B6"><span class="toc-text">day5 NgModule 參數應用、動&#x2F;靜態載入元件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day6-Feature%E3%80%81Shared%E3%80%81Core-Module-%E3%80%81-Ng-6-Service-%E8%87%AA%E5%8B%95-providedIn-root-Module"><span class="toc-text">day6 Feature、Shared、Core Module 、 Ng 6 Service 自動 providedIn root Module</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day7-Two-Way-Binding"><span class="toc-text">day7 Two Way Binding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day8-%E8%87%AA%E8%A8%82%E8%A1%A8%E5%96%AE%E6%8E%A7%E5%88%B6%E9%A0%85-Token%EF%BC%9ANG-VALUE-ACCESSOR-ControlValueAccessor"><span class="toc-text">day8 自訂表單控制項 &#x2F; Token：NG_VALUE_ACCESSOR &#x2F; ControlValueAccessor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day9-Directive-%E6%8C%87%E4%BB%A4-exportAs"><span class="toc-text">day9 Directive 指令 exportAs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day10-any-%E6%A8%A3%E6%9D%BF%E8%AA%9E%E6%B3%95"><span class="toc-text">day10 $any 樣板語法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day11-ngIf-else-%E6%90%AD%E9%85%8D%E6%A8%A3%E6%9D%BF%E5%8F%83%E8%80%83%E8%AE%8A%E6%95%B8"><span class="toc-text">day11 *ngIf else 搭配樣板參考變數</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day12-ngTemplateOutlet"><span class="toc-text">day12 *ngTemplateOutlet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day13-ng-container-%E4%B8%8D%E6%9C%83%E7%94%A2%E7%94%9F%E5%85%83%E7%B4%A0%E6%A8%99%E7%B1%A4"><span class="toc-text">day13 ng-container 不會產生元素標籤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day14-%E5%8B%95%E6%85%8B%E8%BC%89%E5%85%A5%E5%85%83%E4%BB%B6-%E7%B0%A1%E6%98%93%E7%89%88-ngComponentOutlet-Entry-components"><span class="toc-text">day14 動態載入元件 (簡易版) *ngComponentOutlet &#x2F; Entry components</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day15-%E5%8B%95%E6%85%8B%E8%BC%89%E5%85%A5%E5%85%83%E4%BB%B6-%E8%A4%87%E9%9B%9C%E7%89%88-ViewContainerRef-createEmbeddedView-ComponentFactoryResolver-%E8%AB%8B%E5%8F%83%E8%80%83%E7%84%A1%E9%A0%AD%E7%B5%84%E4%BB%B6%E6%87%89%E7%94%A8"><span class="toc-text">day15 動態載入元件 (複雜版) ViewContainerRef &#x2F; createEmbeddedView &#x2F; ComponentFactoryResolver 請參考無頭組件應用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day16-%E5%AE%A2%E8%A3%BD%E5%8C%96%E6%8C%87%E4%BB%A4-Structural-data-%E2%80%9Ddata-xxx-value-xxx-%E2%80%9D-Attribute-data-%E2%80%9Ddata%E2%80%9D-let-xxx-Directive"><span class="toc-text">day16 客製化指令 Structural ( *data&#x3D;”data; xxx: { value: xxx }” ) &#x2F; Attribute ( [data]&#x3D;”data” let-xxx ) Directive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day17-HTTP-INTERCEPTORS-%E6%94%94%E6%88%AA-Http-Request-HttpHandler"><span class="toc-text">day17 HTTP_INTERCEPTORS 攔截 Http Request &#x2F; HttpHandler</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day18-ErrorHandler-%E9%9B%86%E4%B8%AD%E8%99%95%E7%90%86%E9%8C%AF%E8%AA%A4"><span class="toc-text">day18 ErrorHandler 集中處理錯誤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day19-APP-INITIALIZER-%E5%9C%A8%E7%A8%8B%E5%BC%8F%E9%81%8B%E8%A1%8C%E6%97%A9%E6%9C%9F%E8%99%95%E7%90%86%E8%B3%87%E6%96%99"><span class="toc-text">day19 APP_INITIALIZER 在程式運行早期處理資料</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day20-NgModule-providers-useClass-useExisting"><span class="toc-text">day20 @NgModule providers useClass useExisting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day21-NgModule-providers-useValue-useFactory"><span class="toc-text">day21 @NgModule providers useValue useFactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day22-%E6%B3%A8%E5%85%A5-Token-%E5%AF%A6%E9%AB%94%E6%96%B9%E6%B3%95-%E5%BB%BA%E6%A7%8B%E5%BC%8F%E6%B3%A8%E5%85%A5-Injector-%E7%89%A9%E4%BB%B6-Component-%E3%80%81-Directive-providers"><span class="toc-text">day22 注入 Token 實體方法 ( 建構式注入 &#x2F; Injector 物件 &#x2F; @Component 、 @Directive providers )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day23-InjectionToken-%E5%BC%B7%E5%88%B6%E7%94%A2%E7%94%9F-Token-Inject"><span class="toc-text">day23 InjectionToken 強制產生 Token &#x2F; @Inject()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day24-NgZone-%E5%BE%97%E7%9F%A5%E6%89%80%E6%9C%89%E9%9D%9E%E5%90%8C%E6%AD%A5%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%99%BC%E7%94%9F%EF%BC%8C%E7%A2%BA%E8%AA%8D%E4%BD%95%E6%99%82%E8%A6%81%E9%80%B2%E8%A1%8C%E8%AE%8A%E6%9B%B4%E5%81%B5%E6%B8%AC%E7%9A%84%E5%B7%A5%E5%85%B7%E3%80%82-onUnstable-onStable-runOutsideAngular-run"><span class="toc-text">day24 NgZone 得知所有非同步事件的發生，確認何時要進行變更偵測的工具。 onUnstable &#x2F; onStable &#x2F; runOutsideAngular &#x2F; run</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day25-ChangeDetectorRef-%E6%AF%8F%E5%80%8B%E5%85%83%E4%BB%B6%E7%8D%A8%E7%AB%8B%E6%8E%A7%E5%88%B6%E8%AE%8A%E6%9B%B4%E5%81%B5%E6%B8%AC%E6%99%82%E6%A9%9F%E6%95%88%E8%83%BD%E8%AA%BF%E6%A0%A1%E3%80%82-detach-reattach-detectChanges"><span class="toc-text">day25 ChangeDetectorRef 每個元件獨立控制變更偵測時機效能調校。 detach &#x2F; reattach &#x2F; detectChanges</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day26-%E5%85%83%E4%BB%B6%E7%9A%84%E8%AE%8A%E6%9B%B4%E5%81%B5%E6%B8%AC%E7%AD%96%E7%95%A5-%E9%97%9C%E9%96%89%E8%87%AA%E5%8B%95%E5%81%B5%E6%B8%AC%E3%80%81%E6%89%8B%E5%8B%95%E6%89%93%E9%96%8B-changeDetection-ChangeDetectorRef-markForCheck"><span class="toc-text">day26 元件的變更偵測策略 ( 關閉自動偵測、手動打開 ) changeDetection &#x2F; ChangeDetectorRef &#x2F; markForCheck</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day27-AsyncPipe-%E6%8A%80%E5%B7%A7-as-Rxjs-Operator-shareReplay"><span class="toc-text">day27 AsyncPipe 技巧 as &#x2F; Rxjs Operator shareReplay</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day28-AsyncPipe-%E9%80%B2%E9%9A%8E%E6%8A%80%E5%B7%A7"><span class="toc-text">day28 AsyncPipe 進階技巧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day29-RxJS-operators-%E5%9F%BA%E7%A4%8E%E7%AF%87"><span class="toc-text">day29 RxJS operators 基礎篇</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#day30-RxJS-operators-%E9%80%B2%E9%9A%8E%E6%87%89%E7%94%A8"><span class="toc-text">day30 RxJS operators 進階應用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%84%A1%E9%A0%AD%E7%B5%84%E4%BB%B6-%E4%BD%BF%E7%94%A8%E6%83%85%E5%A2%83"><span class="toc-text">無頭組件 使用情境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8B%95%E6%85%8B%E7%94%9F%E6%88%90%E7%B5%84%E4%BB%B6"><span class="toc-text">動態生成組件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B5%84%E4%BB%B6%E5%8C%96%E6%9C%8D%E5%8B%99"><span class="toc-text">組件化服務</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B5%84%E4%BB%B6%E5%8C%96%E6%B8%B2%E6%9F%93"><span class="toc-text">組件化渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8B%95%E6%85%8B%E5%89%B5%E5%BB%BA%E6%8C%87%E4%BB%A4"><span class="toc-text">動態創建指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8B%95%E6%85%8B%E5%89%B5%E5%BB%BA%E5%BD%88%E5%87%BA%E6%A1%86"><span class="toc-text">動態創建彈出框</span></a></li></ol></li></ol>
              </div>
            </div>
          </div>
        </div>

        
  </div>
  <footer class="cotainer-fluid">
    <p id="milestone" class="text-center m-0">
      <span>Copyright © 2021-2023 UrWeb. All rights reserved.</span><br>
      <span>This site is in orbit around internet 1 days.</span>
      <span>people witnessed it all</span>
    </p>
  </footer>

  <!-- <h3>categories</h3>
    <ul>
      
      <li>
        <a href="/categories/AI-Tools/"> AI Tools  </a>
      </li>
      
      <li>
        <a href="/categories/Dev-Tech/"> Dev Tech  </a>
      </li>
      
      <li>
        <a href="/categories/%E8%BD%89%E8%81%B7%E6%88%90%E9%95%B7/"> 轉職成長  </a>
      </li>
      
      <li>
        <a href="/categories/English/"> English  </a>
      </li>
      
      <li>
        <a href="/categories/f2e/"> f2e  </a>
      </li>
      
      <li>
        <a href="/categories/Language/"> Language  </a>
      </li>
      
      <li>
        <a href="/categories/Dev/"> Dev  </a>
      </li>
      
    </ul>

    <h3>tags</h3>
    <ul>
      
      <li>
        <a href="/tags/AI/"> AI </a>
      </li>
      
      <li>
        <a href="/tags/Tools/"> Tools </a>
      </li>
      
      <li>
        <a href="/tags/Visual-Studio/"> Visual Studio </a>
      </li>
      
      <li>
        <a href="/tags/C/"> C# </a>
      </li>
      
      <li>
        <a href="/tags/Computer-Science/"> Computer Science </a>
      </li>
      
      <li>
        <a href="/tags/Net/"> .Net </a>
      </li>
      
      <li>
        <a href="/tags/Internet/"> Internet </a>
      </li>
      
      <li>
        <a href="/tags/%E6%88%90%E9%95%B7%E6%80%9D%E7%B6%AD/"> 成長思維 </a>
      </li>
      
      <li>
        <a href="/tags/Exception/"> Exception </a>
      </li>
      
      <li>
        <a href="/tags/Filter/"> Filter </a>
      </li>
      
      <li>
        <a href="/tags/GTM/"> GTM </a>
      </li>
      
      <li>
        <a href="/tags/IIS/"> IIS </a>
      </li>
      
      <li>
        <a href="/tags/English/"> English </a>
      </li>
      
      <li>
        <a href="/tags/f2e/"> f2e </a>
      </li>
      
      <li>
        <a href="/tags/JavaScript/"> JavaScript </a>
      </li>
      
      <li>
        <a href="/tags/Angular/"> Angular </a>
      </li>
      
      <li>
        <a href="/tags/Response/"> Response </a>
      </li>
      
      <li>
        <a href="/tags/Request/"> Request </a>
      </li>
      
      <li>
        <a href="/tags/Javascript/"> Javascript </a>
      </li>
      
      <li>
        <a href="/tags/ES6/"> ES6 </a>
      </li>
      
      <li>
        <a href="/tags/RabbitMQ/"> RabbitMQ </a>
      </li>
      
      <li>
        <a href="/tags/Note/"> Note </a>
      </li>
      
      <li>
        <a href="/tags/React/"> React </a>
      </li>
      
      <li>
        <a href="/tags/Log/"> Log </a>
      </li>
      
      <li>
        <a href="/tags/computer-science/"> computer-science </a>
      </li>
      
      <li>
        <a href="/tags/Git/"> Git </a>
      </li>
      
      <li>
        <a href="/tags/%E8%BD%89%E8%81%B7/"> 轉職 </a>
      </li>
      
      <li>
        <a href="/tags/%E8%A8%AD%E8%A8%88%E6%80%9D%E8%80%83/"> 設計思考 </a>
      </li>
      
      <li>
        <a href="/tags/node-js/"> node.js </a>
      </li>
      
      <li>
        <a href="/tags/npm/"> npm </a>
      </li>
      
      <li>
        <a href="/tags/node/"> node </a>
      </li>
      
      <li>
        <a href="/tags/pnpm/"> pnpm </a>
      </li>
      
      <li>
        <a href="/tags/nvm/"> nvm </a>
      </li>
      
      <li>
        <a href="/tags/nrm/"> nrm </a>
      </li>
      
      <li>
        <a href="/tags/Authorization/"> Authorization </a>
      </li>
      
      <li>
        <a href="/tags/PDF/"> PDF </a>
      </li>
      
      <li>
        <a href="/tags/Architecture/"> Architecture </a>
      </li>
      
      <li>
        <a href="/tags/DDD/"> DDD </a>
      </li>
      
      <li>
        <a href="/tags/OOD-OOP/"> OOD/OOP </a>
      </li>
      
    </ul> -->

        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body>


<script src="/js/prism.js"></script>

  
<script src="/js/main.js"></script>


</html>