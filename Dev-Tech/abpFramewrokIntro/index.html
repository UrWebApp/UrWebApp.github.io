<!DOCTYPE html>
<html lang="TW">
  
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 您的網路共筆-UrWeb -->
  <title>
    
      Abp Framework 框架的框架 |  
    
    您的網路共筆
  </title>
  
  
    <meta name="description"
          content="文章作者: kai98k 創作日期: 2023/02/09 文章類型: Dev Tech，查看本文章獲取更多訊息。">
  
          <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
            integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
            crossorigin="anonymous" />
          <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400;500;700;900&display=swap"
            rel="stylesheet">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/css/bootstrap.min.css" />
          <link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css" />
          
<link rel="stylesheet" href="/css/prism.css">

            
<link rel="stylesheet" href="/css/main.css">

              <!-- Google Tag Manager -->
              <script>(function (w, d, s, l, i) {
                  w[l] = w[l] || []; w[l].push({
                    'gtm.start':
                      new Date().getTime(), event: 'gtm.js'
                  }); var f = d.getElementsByTagName(s)[0],
                    j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                      'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
                })(window, document, 'script', 'dataLayer', 'GTM-T4FDJRJ');</script>
              <!-- End Google Tag Manager -->
              <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"
                integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
                crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body onload="responsiveIframe()">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T4FDJRJ" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <header>
    <div class="mobileBox">
      <div class="brandBox">
        <a href="/" class="d-flex align-items-center">
          <h1 class="m-0">
            您的網路共筆
          </h1>
        </a>
      </div>
      <div class="desktop-show"> <form action="//google.com/search" method="get" accept-charset="UTF-8" class="input-group"><input type="search" name="q" class="input-group-input" placeholder="Search"><button type="submit" class="input-group-submit">Search</button><input type="hidden" name="sitesearch" value="https://urwebapp.github.io"></form>
      </div>
      <a href="#" id="barBtn">
        <span>hamburger-icon</span>
        <!-- <i class="hamburger fa-solid fa-bars"></i> -->
        <!-- <span class="material-symbols-outlined">menu</span> -->
        <img class="hamburger" src="./assets/img/download.png" data-original="/assets/img/burger-menu-svgrepo-com.svg" alt="hamburger-icon">
      </a>
    </div>
  </header>
  <!-- <h1>
      <a href="/">Home</a> |
      <a href="/archives">Archive</a> |
      tags
      <a href="/about/">About</a>
    </h1> -->
  <div class="outterWrap container-fluid">
    <aside class="leftAside">
      <nav>
        <ul>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="d-md-none input-group"><input type="search" name="q" class="d-md-none input-group-input" placeholder="Search"><button type="submit" class="d-md-none input-group-submit">Search</button><input type="hidden" name="sitesearch" value="https://urwebapp.github.io"></form>
            <!-- <li>
            <h4>
              <a href="/about/">關於我們</a>
            </h4>
          </li> -->
            <li style="margin-top: 50px;">
              <h4>
                <a href="https://forms.gle/Mzn7eLEtW3oiscMT6" target="_blank">Contact / Subscribe</a>
              </h4>
            </li>
            <li>
              <h4>
                <a href="#" id="authorsBtn">Authors
                  <!-- <i class="fa-solid fa-square-caret-up"></i> -->
                  <div class="uponIcon"></div>
                </a>
              </h4>
              <div id="authors">
                <ul class="author-list">
                  <li>
                    <a href="/author/kai98k">kai98k</a>
                  </li>
                  <li>
                    <a href="/author/johch3n611u">johch3n611u</a>
                  </li>
                </ul>
              </div>
            </li>
            <li>
              <h4>
                <a href="#" id="categoriesBtn">Categories 
                  <!-- <i class="fa-solid fa-square-caret-up"></i> -->
                  <div class="uponIcon"></div>
                </a>
              </h4>
              <div id="categories">
                <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AI-Tools/">AI Tools</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Dev-Tech/">Dev Tech</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Language/">Language</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/f2e/">f2e</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%89%E8%81%B7%E6%88%90%E9%95%B7/">轉職成長</a><span class="category-list-count">2</span></li></ul>
              </div>
            </li>
            <li>
              <h4>
                <a href="#" id="tagsBtn">Tags 
                  <div class="uponIcon"></div>
                  <!-- <i class="fa-solid fa-square-caret-up"></i> -->
                </a>
              </h4>
              <div id="tags"><a href="/tags/Net/" style="font-size: 20px;">.Net</a> <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/Angular/" style="font-size: 17.5px;">Angular</a> <a href="/tags/Architecture/" style="font-size: 10px;">Architecture</a> <a href="/tags/Authorization/" style="font-size: 10px;">Authorization</a> <a href="/tags/C/" style="font-size: 12.5px;">C#</a> <a href="/tags/Computer-Science/" style="font-size: 10px;">Computer Science</a> <a href="/tags/DDD/" style="font-size: 10px;">DDD</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/English/" style="font-size: 12.5px;">English</a> <a href="/tags/Exception/" style="font-size: 10px;">Exception</a> <a href="/tags/Filter/" style="font-size: 10px;">Filter</a> <a href="/tags/GTM/" style="font-size: 10px;">GTM</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/IIS/" style="font-size: 10px;">IIS</a> <a href="/tags/Internet/" style="font-size: 17.5px;">Internet</a> <a href="/tags/JavaScript/" style="font-size: 12.5px;">JavaScript</a> <a href="/tags/Javascript/" style="font-size: 10px;">Javascript</a> <a href="/tags/Log/" style="font-size: 12.5px;">Log</a> <a href="/tags/Note/" style="font-size: 15px;">Note</a> <a href="/tags/OOD-OOP/" style="font-size: 10px;">OOD/OOP</a> <a href="/tags/PDF/" style="font-size: 10px;">PDF</a> <a href="/tags/RabbitMQ/" style="font-size: 10px;">RabbitMQ</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/Request/" style="font-size: 10px;">Request</a> <a href="/tags/Response/" style="font-size: 10px;">Response</a> <a href="/tags/Tools/" style="font-size: 10px;">Tools</a> <a href="/tags/Visual-Studio/" style="font-size: 10px;">Visual Studio</a> <a href="/tags/computer-science/" style="font-size: 10px;">computer-science</a> <a href="/tags/f2e/" style="font-size: 10px;">f2e</a></div>
            </li>
            <li style="margin-top: 50px;">
              <h4>
                <a href="https://urwebapp.github.io/assets/angular/ec/index.html" target="_blank">EC Demo</a>
                <a href="https://urwebapp.github.io/assets/angular/mod/EnglishLearningHelper/index.html" target="_blank">EnglishLearningHelper</a>
              </h4>
            </li>
        </ul>
      </nav>
    </aside>
    <main class="container postWrap">
  <article class="postArticle">
    <div class="postArticleHeader">
      <h1 class="pt-1">abp Framework 框架的框架</h1>
      <div class="infoBox">
        <i class="fa fa-eye" aria-hidden="true"></i>
        <p class="waline-pageview-count" data-path="/Dev-Tech/abpFramewrokIntro/" />
        </p>
        <span>|</span>
        <p>2023/02/09</p>
        <span>|</span>
        <p>
          
            <a href="/categories/Dev-Tech/ ">Dev Tech </a>
            
        </p>
        <span>|</span>
        <ul class="tagBox">
          
            <li>
              <a href="/tags/Net/">
                <!-- <i class="fa-solid fa-tag"></i>  -->
                <div class="tagIcon"></div>
                .Net
              </a>
            </li>
            
            <li>
              <a href="/tags/Angular/">
                <!-- <i class="fa-solid fa-tag"></i>  -->
                <div class="tagIcon"></div>
                Angular
              </a>
            </li>
            
        </ul>
      </div>
    </div>
    <div class="postArticleContent">
      <div class="authorsWordsBox">
        <p class="title">kai98k</p>
        <p class="content">這個作者很懶，什麼都沒留下...</p>
      </div>
      <h2 id="框架簡介"><a href="#框架簡介" class="headerlink" title="框架簡介"></a>框架簡介</h2><p>abp.io 是 ASP.NET Boilerplate Project的擴展版本，兩者為不同框架，但共通點都是套用 DDD 概念，這邊會將 abp.io 簡稱(abp vNext)，abp vNext 是一套基於 .Net Core 的開源微服務架構，UI 頁面可支援 MVC(Razor)、Angular、Blazor，且提基本的基礎設施(Infra)、啟動模板、可複用的應用模組、UI 主題、DB 多樣性等等，以及有豐富的文檔及指令，幫助開發者節省開發時間。</p>
<h2 id="框架特色"><a href="#框架特色" class="headerlink" title="框架特色"></a>框架特色</h2><ul>
<li>微服務相容<br><img src="./assets/img/download.png" data-original="https://i.imgur.com/Zi3TfMc.png" alt="微服務">圖片來源: abp.io</li>
<li>模組化架構: 現代分層式架構，包含但不限於服務層、應用層、資料存取層等等。</li>
<li>DDD (Domain-driven Design)的最佳實踐: 包含但不限於實體、聚合根、工廠模式、倉儲模式等等的 DDD 基礎設施。</li>
<li>內建 API 文件、Log 處理等等系統基礎設施。</li>
<li>多租戶&#x2F;Saas<br><img src="./assets/img/download.png" data-original="https://i.imgur.com/QULZ5wD.png" alt="多租戶">圖片來源: abp.io</li>
</ul>
<h2 id="框架最低要求"><a href="#框架最低要求" class="headerlink" title="框架最低要求"></a>框架最低要求</h2><ul>
<li>須了解 DDD 的設計模式，與實踐方式。</li>
<li>須了解 Code First 建立資料庫的方式。</li>
</ul>
<h2 id="方案初始化"><a href="#方案初始化" class="headerlink" title="方案初始化"></a>方案初始化</h2><blockquote>
<p>這次範例會照著官網教程走一遍，並解決與說明可能會碰到的問題，如有興趣可以先直接照著官網文件，快速入門，如有問題再回來觀看。</p>
</blockquote>
<p>可在官網的<a target="_blank" rel="noopener" href="https://abp.io/get-started">開始</a>，來快速產生初始化安裝指令，並加上自己所需的<a target="_blank" rel="noopener" href="https://docs.abp.io/zh-Hans/abp/6.0/CLI">額外指令</a>，像是版本等等，這邊範例使用多層應用、Angular 與預設主題作為 UI 框架，資料庫為 SQL Server。<br><img src="./assets/img/download.png" data-original="https://i.imgur.com/Id0AYUa.png" alt="Architecture"></p>
<p>先安裝 abp cli</p>
<pre class="line-numbers language-none"><code class="language-none">dotnet tool install -g Volo.Abp.Cli<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>之後利用 abp cli 建立專案</p>
<pre class="line-numbers language-none"><code class="language-none">abp new Acme.BookStore -u angular --pwa -v 6.0.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>這邊會遇到的問題，可能會是套件管理器上的錯誤，如在終端上看到缺少 Yarn 的話，可以再多安裝 Yarn 來取代 NPM，不然 Angular 會遺失依賴套件，在前端執行 npm install 時，會出現下列錯誤。</p>
<p><code>&quot;npm install&quot; unable to resolve dependency tree for angular/common (using ABP CLI default project)</code></p>
<p>但無論有沒有錯誤，終端跑完，會出現兩份資料夾，<code>angular</code>，<code>aspnet-core</code>。</p>
<h2 id="後端方案運行"><a href="#後端方案運行" class="headerlink" title="後端方案運行"></a>後端方案運行</h2><h3 id="建立實體"><a href="#建立實體" class="headerlink" title="建立實體"></a>建立實體</h3><p>在開始開發前，需先對領域驅動設計(Domain-Driven Design,DDD) 有初步認知。</p>
<p>照著 abp vNext 文件中的教程，首先在 Domain 層中新增 Books 資料夾，並在此資料夾新增 Book 類別，在 Book 類別中添加程式碼。</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Volo<span class="token punctuation">.</span>Abp<span class="token punctuation">.</span>Domain<span class="token punctuation">.</span>Entities<span class="token punctuation">.</span>Auditing</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Kai<span class="token punctuation">.</span>BookStore<span class="token punctuation">.</span>Books</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AuditedAggregateRoot<span class="token punctuation">&lt;</span>Guid<span class="token punctuation">></span></span></span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name">BookType</span> Type <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> PublishDate <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>

        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">float</span></span> Price <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>聚合根(AggregateRoot)是 DDD 中的重要概念，如對此不熟悉的話，建議先了解 DDD，而這邊 AuditedAggregateRoot 是 abp 框架提供的一個具有一些計算屬性像是建立時間等等的 AggregateRoot 類別，接著照著教程在 Domain.Shared 層新增 BookType 列舉。</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">namespace</span> <span class="token namespace">Kai<span class="token punctuation">.</span>BookStore<span class="token punctuation">.</span>Books</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">BookType</span>
    <span class="token punctuation">&#123;</span>
        Undefined<span class="token punctuation">,</span>
        Adventure<span class="token punctuation">,</span>
        Biography<span class="token punctuation">,</span>
        Dystopia<span class="token punctuation">,</span>
        Fantastic<span class="token punctuation">,</span>
        Horror<span class="token punctuation">,</span>
        Science<span class="token punctuation">,</span>
        ScienceFiction<span class="token punctuation">,</span>
        Poetry
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="建立資料"><a href="#建立資料" class="headerlink" title="建立資料"></a>建立資料</h3><p><strong>前置步驟:<br>須將 DbMigrator 專案中的 <code>appsettings.json</code> 內的預設連線字串改為目標資料庫的連線字串。</strong></p>
<p>將實體添加到 EntityFrameworkCore 層的專案 DbContext。</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token comment">//....</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookStoreDbContext</span> <span class="token punctuation">:</span>
    <span class="token type-list"><span class="token class-name">AbpDbContext<span class="token punctuation">&lt;</span>BookStoreDbContext<span class="token punctuation">></span></span><span class="token punctuation">,</span>
    <span class="token class-name">IIdentityDbContext</span><span class="token punctuation">,</span>
    <span class="token class-name">ITenantManagementDbContext</span></span>
<span class="token punctuation">&#123;</span>
    <span class="token comment">/* Add DbSet properties for your Aggregate Roots / Entities here. */</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DbSet<span class="token punctuation">&lt;</span>Book<span class="token punctuation">></span></span> Books <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
    <span class="token comment">//...省略</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>再至 DbContext 類別的最下面，將資料對映到資料表上。</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnModelCreating</span><span class="token punctuation">(</span><span class="token class-name">ModelBuilder</span> builder<span class="token punctuation">)</span>
   <span class="token punctuation">&#123;</span>
       <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">OnModelCreating</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">/* Include modules to your migration db context */</span>
       <span class="token comment">// ... builder...省略</span>
       <span class="token comment">/* Configure your own tables/entities inside here */</span>
       builder<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Entity</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Book<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>b <span class="token operator">=></span>
       <span class="token punctuation">&#123;</span>
           b<span class="token punctuation">.</span><span class="token function">ToTable</span><span class="token punctuation">(</span>BookStoreConsts<span class="token punctuation">.</span>DbTablePrefix <span class="token operator">+</span> <span class="token string">"Books"</span><span class="token punctuation">,</span> BookStoreConsts<span class="token punctuation">.</span>DbSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>
           b<span class="token punctuation">.</span><span class="token function">ConfigureByConvention</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//auto configure for the base class props</span>
           b<span class="token punctuation">.</span><span class="token function">Property</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">IsRequired</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">HasMaxLength</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token comment">//...</span>
       <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>依照教程看自行抉擇是否要餵初始資料進資料表後，到達資料轉移(Migration)的步驟，輸入終端命令或使用 Nuget 套件工具指令。</p>
<pre class="line-numbers language-none"><code class="language-none">dotnet ef migrations add Created_Book_Entity<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>接著將 DbMigrator 專案設為啟動專案，並運行，在運行時可能會遇到下列錯誤。</p>
<p><code>Microsoft.Data.SqlClient.SqlException: &#39;Invalid object name &#39;dbo.AppBooks&#39;.</code></p>
<p>此時需要在 EFCore 層對 Migrations 初始化。</p>
<pre class="line-numbers language-none"><code class="language-none">dotnet ef migrations add init<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>初始化完畢，再加入實體一次。</p>
<pre class="line-numbers language-none"><code class="language-none">dotnet ef migrations add book<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>再執行一次 DbMigrator 專案。</p>
<h3 id="建立服務"><a href="#建立服務" class="headerlink" title="建立服務"></a>建立服務</h3><p>在 Application.Contracts 建立 BookDto 類別，增加以下程式碼。</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Volo<span class="token punctuation">.</span>Abp<span class="token punctuation">.</span>Application<span class="token punctuation">.</span>Dtos</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Kai<span class="token punctuation">.</span>BookStore<span class="token punctuation">.</span>Books</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDto</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AuditedEntityDto<span class="token punctuation">&lt;</span>Guid<span class="token punctuation">></span></span></span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">BookType</span> Type <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> PublishDate <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">float</span></span> Price <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>有了 BookDto 後，我們還需要在 Application.Contracts 層中建立 CreateUpdateBookDto，來建立與更新 Book。</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>DataAnnotations</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Kai<span class="token punctuation">.</span>BookStore<span class="token punctuation">.</span>Books</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateUpdateBookDto</span>
<span class="token punctuation">&#123;</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">StringLength</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">BookType</span> Type <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token operator">=</span> BookType<span class="token punctuation">.</span>Undefined<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">DataType</span><span class="token attribute-arguments"><span class="token punctuation">(</span>DataType<span class="token punctuation">.</span>Date<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> PublishDate <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">;</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">float</span></span> Price <span class="token punctuation">&#123;</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>設定好 DTO 後，要將 DTO 與實體對映，abp 內建 AutoMapper 來處理這件事情，所以需要在 Application 層中的 AutoMapperProfile 進行設定。</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">Kai<span class="token punctuation">.</span>BookStore<span class="token punctuation">.</span>Books</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">AutoMapper</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Acme<span class="token punctuation">.</span>BookStore</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookStoreApplicationAutoMapperProfile</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Profile</span></span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token function">BookStoreApplicationAutoMapperProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token generic-method"><span class="token function">CreateMap</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Book<span class="token punctuation">,</span> BookDto<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token generic-method"><span class="token function">CreateMap</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CreateUpdateBookDto<span class="token punctuation">,</span> Book<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>做好上面這些事後，需要定義應用層的接口介面，在 Application.Contracts 建立 IBookAppService。</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Volo<span class="token punctuation">.</span>Abp<span class="token punctuation">.</span>Application<span class="token punctuation">.</span>Dtos</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Volo<span class="token punctuation">.</span>Abp<span class="token punctuation">.</span>Application<span class="token punctuation">.</span>Services</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Kai<span class="token punctuation">.</span>BookStore<span class="token punctuation">.</span>Books</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IBookAppService</span> <span class="token punctuation">:</span>
    ICrudAppService<span class="token operator">&lt;</span> <span class="token comment">//Defines CRUD methods</span>
        BookDto<span class="token punctuation">,</span> <span class="token comment">//Used to show books</span>
        Guid<span class="token punctuation">,</span> <span class="token comment">//Primary key of the book entity</span>
        PagedAndSortedResultRequestDto<span class="token punctuation">,</span> <span class="token comment">//Used for paging/sorting</span>
        CreateUpdateBookDto<span class="token operator">></span> <span class="token comment">//Used to create/update a book</span>
<span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>ICrudAppService</code> 是 abp 提供的 CRUD 方法，內建了 <code>GetAsync</code>、<code>GetListAsync</code>、<code>CreateAsync</code>、<code>UpdateAsync</code>、<code>DeleteAsync</code>。</p>
<p>定義好接口後，要在 Application 層實作 BookAppService 類別，這邊會利用通用倉儲模式跟實體溝通。</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Volo<span class="token punctuation">.</span>Abp<span class="token punctuation">.</span>Application<span class="token punctuation">.</span>Dtos</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Volo<span class="token punctuation">.</span>Abp<span class="token punctuation">.</span>Application<span class="token punctuation">.</span>Services</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">Volo<span class="token punctuation">.</span>Abp<span class="token punctuation">.</span>Domain<span class="token punctuation">.</span>Repositories</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">Kai<span class="token punctuation">.</span>BookStore<span class="token punctuation">.</span>Books</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookAppService</span> <span class="token punctuation">:</span>
    CrudAppService<span class="token operator">&lt;</span>
        Book<span class="token punctuation">,</span> <span class="token comment">//The Book entity</span>
        BookDto<span class="token punctuation">,</span> <span class="token comment">//Used to show books</span>
        Guid<span class="token punctuation">,</span> <span class="token comment">//Primary key of the book entity</span>
        PagedAndSortedResultRequestDto<span class="token punctuation">,</span> <span class="token comment">//Used for paging/sorting</span>
        CreateUpdateBookDto<span class="token operator">></span><span class="token punctuation">,</span> <span class="token comment">//Used to create/update a book</span>
    IBookAppService <span class="token comment">//implement the IBookAppService</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token function">BookAppService</span><span class="token punctuation">(</span><span class="token class-name">IRepository<span class="token punctuation">&lt;</span>Book<span class="token punctuation">,</span> Guid<span class="token punctuation">></span></span> repository<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>repository<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>接下來即可照著教程設定，將 HttpApi.Host 設為啟動專案，運行 HttpApi.Host 專案，並跳出 Swagger API UI。<br><img src="./assets/img/download.png" data-original="https://i.imgur.com/3nQRJrS.png" alt="swagger"></p>
<p>可以測試看看，是否能成功取回書籍列表。</p>
<h2 id="客戶端-Angular"><a href="#客戶端-Angular" class="headerlink" title="客戶端 Angular"></a>客戶端 Angular</h2><h3 id="本地化"><a href="#本地化" class="headerlink" title="本地化"></a>本地化</h3><p>在 Domain.Shared 層中的 Localization&#x2F;BookStore 中可以看到各個語言範本的 json，先在 en.json 換掉內容，這邊要注意的是 abp vNext 建議在選單種類前加上<code>Menu:&lt;Item&gt;</code>前綴，以及列舉前加上<code>Enum:&lt;Type&gt;</code>前綴。</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"Culture"</span><span class="token operator">:</span> <span class="token string">"en"</span><span class="token punctuation">,</span>
  <span class="token property">"Texts"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"Menu:Home"</span><span class="token operator">:</span> <span class="token string">"Home"</span><span class="token punctuation">,</span>
    <span class="token property">"Menu:ContactUs"</span><span class="token operator">:</span> <span class="token string">"Contact Us"</span><span class="token punctuation">,</span>
    <span class="token property">"Menu:ArticleSample"</span><span class="token operator">:</span> <span class="token string">"Article Sample"</span><span class="token punctuation">,</span>
    <span class="token property">"Home"</span><span class="token operator">:</span> <span class="token string">"Home"</span><span class="token punctuation">,</span>
    <span class="token property">"Welcome"</span><span class="token operator">:</span> <span class="token string">"Welcome"</span><span class="token punctuation">,</span>
    <span class="token property">"LongWelcomeMessage"</span><span class="token operator">:</span> <span class="token string">"Welcome to the application. This is a startup project based on the ABP framework. For more information visit abp.io."</span><span class="token punctuation">,</span>
    <span class="token property">"Date"</span><span class="token operator">:</span> <span class="token string">"Date"</span><span class="token punctuation">,</span>
    <span class="token property">"Permission:Dashboard"</span><span class="token operator">:</span> <span class="token string">"Dashboard"</span><span class="token punctuation">,</span>
    <span class="token property">"Menu:Dashboard"</span><span class="token operator">:</span> <span class="token string">"Dashboard"</span><span class="token punctuation">,</span>
    <span class="token property">"Menu:HomePage"</span><span class="token operator">:</span> <span class="token string">"Home page"</span><span class="token punctuation">,</span>
    <span class="token property">"Dashboard"</span><span class="token operator">:</span> <span class="token string">"Dashboard"</span><span class="token punctuation">,</span>
    <span class="token property">"ExternalProvider:Google"</span><span class="token operator">:</span> <span class="token string">"Google"</span><span class="token punctuation">,</span>
    <span class="token property">"ExternalProvider:Google:ClientId"</span><span class="token operator">:</span> <span class="token string">"Client ID"</span><span class="token punctuation">,</span>
    <span class="token property">"ExternalProvider:Google:ClientSecret"</span><span class="token operator">:</span> <span class="token string">"Client Secret"</span><span class="token punctuation">,</span>
    <span class="token property">"ExternalProvider:Microsoft"</span><span class="token operator">:</span> <span class="token string">"Microsoft"</span><span class="token punctuation">,</span>
    <span class="token property">"ExternalProvider:Microsoft:ClientId"</span><span class="token operator">:</span> <span class="token string">"Client ID"</span><span class="token punctuation">,</span>
    <span class="token property">"ExternalProvider:Microsoft:ClientSecret"</span><span class="token operator">:</span> <span class="token string">"Client Secret"</span><span class="token punctuation">,</span>
    <span class="token property">"ExternalProvider:Twitter"</span><span class="token operator">:</span> <span class="token string">"Twitter"</span><span class="token punctuation">,</span>
    <span class="token property">"ExternalProvider:Twitter:ConsumerKey"</span><span class="token operator">:</span> <span class="token string">"Consumer Key"</span><span class="token punctuation">,</span>
    <span class="token property">"ExternalProvider:Twitter:ConsumerSecret"</span><span class="token operator">:</span> <span class="token string">"Consumer Secret"</span><span class="token punctuation">,</span>
    <span class="token property">"NewsletterHeader"</span><span class="token operator">:</span> <span class="token string">"Subscribe to the newsletter!"</span><span class="token punctuation">,</span>
    <span class="token property">"NewsletterInfo"</span><span class="token operator">:</span> <span class="token string">"Get information about the latest happenings."</span><span class="token punctuation">,</span>
    <span class="token property">"NewsletterPreference_Default"</span><span class="token operator">:</span> <span class="token string">"Default Newsletter"</span><span class="token punctuation">,</span>
    <span class="token property">"NewsletterPrivacyAcceptMessage"</span><span class="token operator">:</span> <span class="token string">"I accept the &lt;a href='/privacy-policy'>Privacy Policy&lt;/a>."</span><span class="token punctuation">,</span>
    <span class="token property">"ChangeLanguage"</span><span class="token operator">:</span> <span class="token string">"Change language"</span><span class="token punctuation">,</span>
    <span class="token property">"Menu:BookStore"</span><span class="token operator">:</span> <span class="token string">"Book Store"</span><span class="token punctuation">,</span>
    <span class="token property">"Menu:Books"</span><span class="token operator">:</span> <span class="token string">"Books"</span><span class="token punctuation">,</span>
    <span class="token property">"PublishDate"</span><span class="token operator">:</span> <span class="token string">"Publish date"</span><span class="token punctuation">,</span>
    <span class="token property">"NewBook"</span><span class="token operator">:</span> <span class="token string">"New book"</span><span class="token punctuation">,</span>
    <span class="token property">"Name"</span><span class="token operator">:</span> <span class="token string">"Name"</span><span class="token punctuation">,</span>
    <span class="token property">"Type"</span><span class="token operator">:</span> <span class="token string">"Type"</span><span class="token punctuation">,</span>
    <span class="token property">"Price"</span><span class="token operator">:</span> <span class="token string">"Price"</span><span class="token punctuation">,</span>
    <span class="token property">"CreationTime"</span><span class="token operator">:</span> <span class="token string">"Creation time"</span><span class="token punctuation">,</span>
    <span class="token property">"AreYouSureToDelete"</span><span class="token operator">:</span> <span class="token string">"Are you sure you want to delete this item?"</span><span class="token punctuation">,</span>
    <span class="token property">"Enum:BookType.0"</span><span class="token operator">:</span> <span class="token string">"Undefined"</span><span class="token punctuation">,</span>
    <span class="token property">"Enum:BookType.1"</span><span class="token operator">:</span> <span class="token string">"Adventure"</span><span class="token punctuation">,</span>
    <span class="token property">"Enum:BookType.2"</span><span class="token operator">:</span> <span class="token string">"Biography"</span><span class="token punctuation">,</span>
    <span class="token property">"Enum:BookType.3"</span><span class="token operator">:</span> <span class="token string">"Dystopia"</span><span class="token punctuation">,</span>
    <span class="token property">"Enum:BookType.4"</span><span class="token operator">:</span> <span class="token string">"Fantastic"</span><span class="token punctuation">,</span>
    <span class="token property">"Enum:BookType.5"</span><span class="token operator">:</span> <span class="token string">"Horror"</span><span class="token punctuation">,</span>
    <span class="token property">"Enum:BookType.6"</span><span class="token operator">:</span> <span class="token string">"Science"</span><span class="token punctuation">,</span>
    <span class="token property">"Enum:BookType.7"</span><span class="token operator">:</span> <span class="token string">"Science fiction"</span><span class="token punctuation">,</span>
    <span class="token property">"Enum:BookType.8"</span><span class="token operator">:</span> <span class="token string">"Poetry"</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="初始設置"><a href="#初始設置" class="headerlink" title="初始設置"></a>初始設置</h3><p>利用終端 cd 至 Angular 專案，輸入指令用 Yarn 安裝 Npm Packages。</p>
<pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">yarn<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>接著輸入指令用 yarn 產生 BookModule。</p>
<pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">yarn ng generate module book --module app --routing --route books<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>輸入完會做以下新增及更新。</p>
<pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">CREATE src&#x2F;app&#x2F;book&#x2F;book-routing.module.ts (335 bytes)
CREATE src&#x2F;app&#x2F;book&#x2F;book.module.ts (343 bytes)
CREATE src&#x2F;app&#x2F;book&#x2F;book.component.html (19 bytes)
CREATE src&#x2F;app&#x2F;book&#x2F;book.component.spec.ts (585 bytes)
CREATE src&#x2F;app&#x2F;book&#x2F;book.component.ts (195 bytes)
CREATE src&#x2F;app&#x2F;book&#x2F;book.component.scss (0 bytes)
UPDATE src&#x2F;app&#x2F;app-routing.module.ts (2181 bytes)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>成功新增後，利用指令產生客戶端代理，也就是自動跟後端做串接，此時要先讓後端 HttpApi.Host 專案為啟動狀態，才能輸入指令</p>
<pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">abp generate-proxy -t ng<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>上述指令編譯完成後，應該要出現下圖檔案列表<br><img src="./assets/img/download.png" data-original="https://i.imgur.com/9K3SXaM.png" alt="Architecture"><br>在這邊如果有報錯，或是缺少檔案，可以試著使用 abl cli 更新 npm 套件。</p>
<pre class="line-numbers language-none"><code class="language-none">abp update --npm<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>刪掉 <code>package-lock.json</code> 接著再用 Yarn 安裝一次 Npm Packages，接著可以直接再輸入產生客戶端代理的指令，如果還是沒有成功產生建議再用 abl cli 重新安裝。</p>
<p>如果都能成功產生，就可以在 <code>/src/app/book/book.component.ts</code> 置換下面程式碼。</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> ListService<span class="token punctuation">,</span> PagedResultDto <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@abp/ng.core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> BookService<span class="token punctuation">,</span> BookDto <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@proxy/books'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'app-book'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./book.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./book.component.scss'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span>ListService<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">BookComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">&#123;</span>
  book <span class="token operator">=</span> <span class="token punctuation">&#123;</span> items<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> totalCount<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span> <span class="token keyword">as</span> PagedResultDto<span class="token operator">&lt;</span>BookDto<span class="token operator">></span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> <span class="token keyword">readonly</span> list<span class="token operator">:</span> ListService<span class="token punctuation">,</span> <span class="token keyword">private</span> bookService<span class="token operator">:</span> BookService<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">bookStreamCreator</span> <span class="token operator">=</span> <span class="token punctuation">(</span>query<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>bookService<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">hookToQuery</span><span class="token punctuation">(</span>bookStreamCreator<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>book <span class="token operator">=</span> response<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>這邊可以看到注入了 <code>BookService</code>、<code>ListService</code>。<br><code>ListService</code> 提供簡單的換頁、查詢、排列功能。</p>
<p>將 BookComponent 的功能寫上後，現在要換 HTML 了，把<code>/src/app/book/book.component.html</code>的內替換上下列程式碼。</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"row entry-row"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col-12 col-sm-auto"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>h1 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"content-header-title"</span><span class="token operator">></span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> <span class="token string">'::Menu:Books'</span> <span class="token operator">|</span> abpLocalization <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>

  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col-lg-auto pl-lg-0"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>abp<span class="token operator">-</span>breadcrumb<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>abp<span class="token operator">-</span>breadcrumb<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>

  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"text-lg-right pt-2"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>

<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card-body"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>ngx<span class="token operator">-</span>datatable <span class="token punctuation">[</span>rows<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"book.items"</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"book.totalCount"</span> <span class="token punctuation">[</span>list<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"list"</span> <span class="token keyword">default</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>column <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"'::Name' | abpLocalization"</span> prop<span class="token operator">=</span><span class="token string">"name"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>column<span class="token operator">></span>
      <span class="token operator">&lt;</span>ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>column <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"'::Type' | abpLocalization"</span> prop<span class="token operator">=</span><span class="token string">"type"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>ng<span class="token operator">-</span>template <span class="token keyword">let</span><span class="token operator">-</span>row<span class="token operator">=</span><span class="token string">"row"</span> ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>cell<span class="token operator">-</span>template<span class="token operator">></span>
          <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> <span class="token string">'::Enum:BookType.'</span> <span class="token operator">+</span> row<span class="token punctuation">.</span>type <span class="token operator">|</span> abpLocalization <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ng<span class="token operator">-</span>template<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>column<span class="token operator">></span>
      <span class="token operator">&lt;</span>ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>column <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"'::PublishDate' | abpLocalization"</span> prop<span class="token operator">=</span><span class="token string">"publishDate"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>ng<span class="token operator">-</span>template <span class="token keyword">let</span><span class="token operator">-</span>row<span class="token operator">=</span><span class="token string">"row"</span> ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>cell<span class="token operator">-</span>template<span class="token operator">></span>
          <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> row<span class="token punctuation">.</span>publishDate <span class="token operator">|</span> date <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ng<span class="token operator">-</span>template<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>column<span class="token operator">></span>
      <span class="token operator">&lt;</span>ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>column <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"'::Price' | abpLocalization"</span> prop<span class="token operator">=</span><span class="token string">"price"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>ng<span class="token operator">-</span>template <span class="token keyword">let</span><span class="token operator">-</span>row<span class="token operator">=</span><span class="token string">"row"</span> ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>cell<span class="token operator">-</span>template<span class="token operator">></span>
          <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span> row<span class="token punctuation">.</span>price <span class="token operator">|</span> currency <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ng<span class="token operator">-</span>template<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ngx<span class="token operator">-</span>datatable<span class="token operator">-</span>column<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ngx<span class="token operator">-</span>datatable<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>最後，使用指令<code>npm run start</code>運行前端頁面，可成功出現書籍列表畫面。</p>
<p><img src="./assets/img/download.png" data-original="https://i.imgur.com/DxP3Wsn.png" alt="Dashboard"></p>
<p>如果無法成功運行，請再將<code>package-lock.json</code> 刪掉並再下指令<code>yarn</code>重新安裝套件包，再運行看看。</p>
<h2 id="前端頁面客製化"><a href="#前端頁面客製化" class="headerlink" title="前端頁面客製化"></a>前端頁面客製化</h2><p>可以至文件的主題中，裡面有更仔細的步驟與教學，但很可惜的是這邊目前沒有中文化，所以就要考驗小夥伴們的英文底仔了，這邊會簡單講解一下。</p>
<p><img src="./assets/img/download.png" data-original="https://i.imgur.com/jShCXgN.png" alt="Architecture"></p>
<p>abp vNext 提供版面客製化的選項，但這裡卻不真正意義上去客製化 abp vNext 元件，而是自己做一個去替換，可以看到文件內說明。</p>
<p><img src="./assets/img/download.png" data-original="https://i.imgur.com/mFZ3sg9.png" alt="說明"></p>
<p>所以要先找到要替換元件的 key，也就是元件名字，然後在 <code>app.component.ts</code>中做替換。</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">//...</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token comment">/* component metadata */</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> replaceableComponents<span class="token operator">:</span> ReplaceableComponentsService<span class="token punctuation">,</span> <span class="token comment">// injected the service</span>
  <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>replaceableComponents<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      component<span class="token operator">:</span> YourNewApplicationLayoutComponent<span class="token punctuation">,</span>
      key<span class="token operator">:</span> eThemeLeptonXComponents<span class="token punctuation">.</span>ApplicationLayout<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>abp vNext 框架把 .Net Core 與 DDD 設計模式的整合實踐到最佳化，讓使用者在以 DDD 模式下開發微服務可以省掉不少的時間，可惜整體過於龐大，且因為 abp vNext 強調微服務，讓多個 app 可共用一個後端，因此前端對於後端的依賴性非常高，許多前端 config 與 i18n 都得使用後端 Endpoint 來取得，使用者除了必須詳讀文件後再來使用，也要考量自身的專案是否真的需要導入此套框架，目前覺得不錯的用法是自行開發前端來做中後台，整合 abp vNext 的後端，而 abp vNext 附與的前端做為後台，做權限管理與租戶管理的行為。</p>
<h2 id="如有後續開發與使用，再做更新"><a href="#如有後續開發與使用，再做更新" class="headerlink" title="如有後續開發與使用，再做更新"></a>如有後續開發與使用，再做更新</h2><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li>abp.io</li>
<li><a target="_blank" rel="noopener" href="https://blog.51cto.com/u_12460661/3019374">初识ABP vNext（1）：开篇计划&amp;基础知识</a></li>
</ul>

    </div>
  </article>
  <div class="postNext d-flex justify-content-between mt-3 mb-3">
    
      <h4>
        <a href="/%E8%BD%89%E8%81%B7%E6%88%90%E9%95%B7/ShiftJobMethod/">
          <span><<</span>
          <!-- <i class="fa-solid fa-angles-left"></i>  -->
          適用所有行業的轉職評估法
        </a>
      </h4>
      
        
          <h4>
            <a href="/Dev-Tech/HexoNestedAngular/">
              在 Hexo 中整合 Angular 
              <span>>></span>
              <!-- <i class="fa-solid fa-angles-right"></i> -->
            </a>
          </h4>
          
  </div>
  
  <div id="waline"></div>
  <script type="module">
    import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';
    let option = '{"el":"#waline","enable":true,"serverURL":"https://waline-urweb.vercel.app/","placeholder":"歡迎隨時提出您的建議，並不吝指教","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"lang":"en","visitor":true,"comment_count":true,"requiredFields":["nick","mail"],"libUrl":"https://cdnjs.cloudflare.com/ajax/libs/waline/2.14.5/waline.js","pageview":true,"reaction":true}';
    init(JSON.parse(option));
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>
  
    <input style="display:none" onload="addTotalViews()">
</main>
      
        <aside class="rightAside">
          <section>
            <h4>Table of contents</h4>
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%86%E6%9E%B6%E7%B0%A1%E4%BB%8B"><span class="toc-text">框架簡介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%86%E6%9E%B6%E7%89%B9%E8%89%B2"><span class="toc-text">框架特色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%86%E6%9E%B6%E6%9C%80%E4%BD%8E%E8%A6%81%E6%B1%82"><span class="toc-text">框架最低要求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">方案初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%8C%E7%AB%AF%E6%96%B9%E6%A1%88%E9%81%8B%E8%A1%8C"><span class="toc-text">後端方案運行</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E5%AF%A6%E9%AB%94"><span class="toc-text">建立實體</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E8%B3%87%E6%96%99"><span class="toc-text">建立資料</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E6%9C%8D%E5%8B%99"><span class="toc-text">建立服務</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%A2%E6%88%B6%E7%AB%AF-Angular"><span class="toc-text">客戶端 Angular</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%8C%96"><span class="toc-text">本地化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E8%A8%AD%E7%BD%AE"><span class="toc-text">初始設置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E9%A0%81%E9%9D%A2%E5%AE%A2%E8%A3%BD%E5%8C%96"><span class="toc-text">前端頁面客製化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B8%BD%E7%B5%90"><span class="toc-text">總結</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E6%9C%89%E5%BE%8C%E7%BA%8C%E9%96%8B%E7%99%BC%E8%88%87%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%86%8D%E5%81%9A%E6%9B%B4%E6%96%B0"><span class="toc-text">如有後續開發與使用，再做更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-text">Reference</span></a></li></ol>
          </section>
        </aside>

        <div class="mobileBtn btn">
          <!-- <i class="fa-solid fa-book-bookmark"></i> -->
          <div class="bookmarkIcon"></div>
        </div>

        <div class="modal" tabindex="-1" id="tocModal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Table of Contents</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                  onclick="tocModalClose()"></button>
              </div>
              <div class="modal-body">
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%86%E6%9E%B6%E7%B0%A1%E4%BB%8B"><span class="toc-text">框架簡介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%86%E6%9E%B6%E7%89%B9%E8%89%B2"><span class="toc-text">框架特色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%86%E6%9E%B6%E6%9C%80%E4%BD%8E%E8%A6%81%E6%B1%82"><span class="toc-text">框架最低要求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%A1%88%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">方案初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%8C%E7%AB%AF%E6%96%B9%E6%A1%88%E9%81%8B%E8%A1%8C"><span class="toc-text">後端方案運行</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E5%AF%A6%E9%AB%94"><span class="toc-text">建立實體</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E8%B3%87%E6%96%99"><span class="toc-text">建立資料</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E6%9C%8D%E5%8B%99"><span class="toc-text">建立服務</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%A2%E6%88%B6%E7%AB%AF-Angular"><span class="toc-text">客戶端 Angular</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%8C%96"><span class="toc-text">本地化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E8%A8%AD%E7%BD%AE"><span class="toc-text">初始設置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E9%A0%81%E9%9D%A2%E5%AE%A2%E8%A3%BD%E5%8C%96"><span class="toc-text">前端頁面客製化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B8%BD%E7%B5%90"><span class="toc-text">總結</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E6%9C%89%E5%BE%8C%E7%BA%8C%E9%96%8B%E7%99%BC%E8%88%87%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%86%8D%E5%81%9A%E6%9B%B4%E6%96%B0"><span class="toc-text">如有後續開發與使用，再做更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-text">Reference</span></a></li></ol>
              </div>
            </div>
          </div>
        </div>

        
  </div>
  <footer class="cotainer-fluid">
    <p id="milestone" class="text-center m-0">
      <span>Copyright © 2021-2023 UrWeb. All rights reserved.</span><br>
      <span>This site is in orbit around internet 1 days.</span>
      <span>people witnessed it all</span>
    </p>
  </footer>

  <!-- <h3>categories</h3>
    <ul>
      
      <li>
        <a href="/categories/AI-Tools/"> AI Tools  </a>
      </li>
      
      <li>
        <a href="/categories/Dev-Tech/"> Dev Tech  </a>
      </li>
      
      <li>
        <a href="/categories/%E8%BD%89%E8%81%B7%E6%88%90%E9%95%B7/"> 轉職成長  </a>
      </li>
      
      <li>
        <a href="/categories/f2e/"> f2e  </a>
      </li>
      
      <li>
        <a href="/categories/English/"> English  </a>
      </li>
      
      <li>
        <a href="/categories/Language/"> Language  </a>
      </li>
      
    </ul>

    <h3>tags</h3>
    <ul>
      
      <li>
        <a href="/tags/AI/"> AI </a>
      </li>
      
      <li>
        <a href="/tags/Tools/"> Tools </a>
      </li>
      
      <li>
        <a href="/tags/Visual-Studio/"> Visual Studio </a>
      </li>
      
      <li>
        <a href="/tags/C/"> C# </a>
      </li>
      
      <li>
        <a href="/tags/Computer-Science/"> Computer Science </a>
      </li>
      
      <li>
        <a href="/tags/Net/"> .Net </a>
      </li>
      
      <li>
        <a href="/tags/Internet/"> Internet </a>
      </li>
      
      <li>
        <a href="/tags/%E6%88%90%E9%95%B7%E6%80%9D%E7%B6%AD/"> 成長思維 </a>
      </li>
      
      <li>
        <a href="/tags/Exception/"> Exception </a>
      </li>
      
      <li>
        <a href="/tags/Filter/"> Filter </a>
      </li>
      
      <li>
        <a href="/tags/GTM/"> GTM </a>
      </li>
      
      <li>
        <a href="/tags/IIS/"> IIS </a>
      </li>
      
      <li>
        <a href="/tags/f2e/"> f2e </a>
      </li>
      
      <li>
        <a href="/tags/English/"> English </a>
      </li>
      
      <li>
        <a href="/tags/JavaScript/"> JavaScript </a>
      </li>
      
      <li>
        <a href="/tags/Angular/"> Angular </a>
      </li>
      
      <li>
        <a href="/tags/RabbitMQ/"> RabbitMQ </a>
      </li>
      
      <li>
        <a href="/tags/computer-science/"> computer-science </a>
      </li>
      
      <li>
        <a href="/tags/Log/"> Log </a>
      </li>
      
      <li>
        <a href="/tags/Note/"> Note </a>
      </li>
      
      <li>
        <a href="/tags/React/"> React </a>
      </li>
      
      <li>
        <a href="/tags/Git/"> Git </a>
      </li>
      
      <li>
        <a href="/tags/%E8%BD%89%E8%81%B7/"> 轉職 </a>
      </li>
      
      <li>
        <a href="/tags/%E8%A8%AD%E8%A8%88%E6%80%9D%E8%80%83/"> 設計思考 </a>
      </li>
      
      <li>
        <a href="/tags/node-js/"> node.js </a>
      </li>
      
      <li>
        <a href="/tags/npm/"> npm </a>
      </li>
      
      <li>
        <a href="/tags/PDF/"> PDF </a>
      </li>
      
      <li>
        <a href="/tags/Authorization/"> Authorization </a>
      </li>
      
      <li>
        <a href="/tags/Architecture/"> Architecture </a>
      </li>
      
      <li>
        <a href="/tags/DDD/"> DDD </a>
      </li>
      
      <li>
        <a href="/tags/OOD-OOP/"> OOD/OOP </a>
      </li>
      
      <li>
        <a href="/tags/Response/"> Response </a>
      </li>
      
      <li>
        <a href="/tags/Request/"> Request </a>
      </li>
      
      <li>
        <a href="/tags/Javascript/"> Javascript </a>
      </li>
      
      <li>
        <a href="/tags/ES6/"> ES6 </a>
      </li>
      
    </ul> -->

        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body>


<script src="/js/prism.js"></script>

  
<script src="/js/main.js"></script>


</html>